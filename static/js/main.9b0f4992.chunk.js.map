{"version":3,"sources":["components/Footer/style.js","components/Footer/index.js","context/User.js","api.js","helpers.js","components/Loader/style.js","components/Loader/index.js","components/Navigation/styles.js","components/Navigation/index.js","Validator/index.js","Validator/errors.js","components/EasyForm/index.js","components/Tag/index.js","components/Tags/style.js","components/Tags/index.js","components/Button/style.js","components/Button/index.js","components/Form/style.js","components/Form/index.js","assets/check-mark.svg","components/CustomCheckbox/style.js","components/CustomCheckbox/index.js","components/FormField/style.js","components/FormField/index.js","components/Input/style.js","components/Input/index.js","components/Label/style.js","components/Label/index.js","components/Answer/index.js","components/Answers/index.js","components/Question/style.js","components/Question/index.js","components/Questions/index.js","components/QuizForm/index.js","components/Quiz/style.js","components/Quiz/index.js","pages/QuizPage.js","components/Message/style.js","assets/trash-can.svg","components/Message/index.js","components/QuizPreview/style.js","components/QuizPreview/index.js","pages/Home.js","components/AuthForm/index.js","pages/Profile.js","components/CorrectAnswer/index.js","components/AddQuizFormAnswers/style.js","components/AddQuizFormAnswers/index.js","components/AddQuizForm/style.js","components/AddQuizForm/index.js","pages/AddQuiz.js","pages/Logout.js","App.js","hooks.js","styles.js","index.js"],"names":["StyledFooter","styled","footer","FooterContent","span","Footer","auth","localStorage","getItem","UserContext","createContext","user","setAuth","setUser","baseURL","defaultOptions","credentials","headers","postOptions","body","JSON","stringify","method","post","url","a","options","request","get","deleteRequest","fetch","response","json","authRequest","statusCode","refreshToken","authPost","authGet","fetchQuizzes","fetchQuiz","queryKey","quizId","createQuiz","quiz","createUser","authUser","deleteQuiz","id","getKeys","path","replace","split","map","key","put","obj","value","keys","currObj","forEach","index","length","getFromPath","defaultValue","reduce","prev","hasErrors","arrays","flat","Infinity","isEmpty","arr","createCookie","cookieName","onExpire","rest","setTimeout","parsedOptions","Object","entries","k","v","join","document","cookie","getCookie","reg","RegExp","match","parse","removeCookie","isAuth","logout","setItem","rotate","keyframes","LoaderContainer","div","position","Svg","svg","scale","Loader","xmlns","viewBox","data-name","d","fill","opacity","cx","cy","r","stroke","strokeLinecap","strokeLinejoin","strokeWidth","NavigationList","ul","NavigationLink","Link","NavigationLogout","useState","isLoading","setIsLoading","style","to","onClick","e","preventDefault","Navigation","useContext","validator","errors","this","rules","rule","args","push","isValid","isAllValid","values","schema","name","keyName","type","createFromPath","vals","isRequired","required","onlyFirstValid","one","Array","isArray","validateOnce","val","functionName","fn","message","min","max","test","minLength","maxLength","isEmail","validateSchema","create","add","names","undefined","EasyForm","render","initialValues","onSubmit","mapValues","setValues","validate","setResult","useEffect","useValidate","ev","originalValues","mappedValues","input","onChange","checked","onChangeListener","target","inputValue","prevValues","newValues","props","isNotEmpty","Tag","tag","last","TagsContainer","Tags","tags","category","SrOnly","StyledButton","button","hasIcon","disabled","full","Button","children","srOnly","StyledForm","form","Message","isSuccess","responseMessages","userExists","Unauthorized","wrongCredentials","Form","errorMessage","successMessage","role","StyledCustomCheckbox","checkMark","CustomCheckbox","StyledFormField","isCorrectAnswer","InputContainer","Errors","padding","FormField","error","styleForCheckbox","css","labelOnFocus","StyledInput","border","Input","StyledLabel","label","color","Label","htmlFor","Answer","questionId","formState","result","correctAnswers","answer","content","find","data-answer-id","Answers","answers","checkAnswersResult","StyledQuestion","isCorrectQuestion","Question","question","setQuiz","questionAnswers","dummy","data","questions","splice","Questions","QuizForm","lastQuestion","QuizTitle","h1","QuizContainer","Quiz","addValidationRules","createInitialValues","useMutation","userName","mutateAsync","reducedAnswers","prevAnswers","filter","Boolean","console","log","QuizPage","useParams","useQuery","categories","_path","MessageContainer","MessageContent","p","MessageLink","link","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgTrashCan","_ref","svgRef","title","titleId","width","height","ref","ForwardRef","QuizPreviewContainer","AuthorLink","MetaDataContainer","NumberOfQuestions","QuizPreview","getUserQuizzes","numOfQuestions","removeQuiz","removedId","Home","quizzes","AuthForm","apiFunction","afterRequest","Math","floor","random","onSuccess","mutate","email","password","Profile","refetch","removeQuizIsLoading","deletedQuizData","history","useHistory","goBack","CorrectAnswer","AnswerInputContainer","AnswersGroup","AnswerActions","AnswerInput","AnswerFormField","AddAnswerButton","AddQuizFormAnswers","correctAnswer","setAnswers","removeAnswer","_","margin","aria-invalid","prevState","QuestionContainer","AddQuizForm","saveQuizData","saveQuestion","mappedAnswers","href","AddQuiz","Logout","UserContextProvider","initialValue","userAuth","isUserAuth","prevAuth","setInterval","useAuth","Provider","App","basename","exact","GlobalStyle","createGlobalStyle","queryClient","QueryClient","staleTime","ReactDOM","StrictMode","QueryClientProvider","client","disableVendorPrefixes","getElementById"],"mappings":"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","file":"static/js/main.9b0f4992.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const StyledFooter = styled.footer`\r\n    background: #222;\r\n    color: #ddd;\r\n    padding: 10px;\r\n    line-height: 1.5;\r\n    margin-top: 25px;\r\n`;\r\n\r\nexport const FooterContent = styled.span`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n","import { FooterContent, StyledFooter } from \"./style\";\r\n\r\nexport default function Footer() {\r\n  return(\r\n    <StyledFooter>\r\n      <FooterContent>Copyright Quiz App 2021</FooterContent>\r\n      <FooterContent>Autor: Kacper Karpień</FooterContent>\r\n    </StyledFooter>\r\n  )\r\n}\r\n","import { createContext } from \"react\";\r\n\r\nconst auth = localStorage.getItem('auth') === 'true';\r\n\r\nconst UserContext = createContext({\r\n    user: {},\r\n    auth,\r\n    setAuth: () => {},\r\n    setUser: () => {},\r\n});\r\n\r\nexport { UserContext };\r\n","const baseURL = 'http://localhost:8080/api';\r\n\r\nconst defaultOptions = {\r\n  credentials: 'include',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n}\r\n\r\nfunction postOptions(body) {\r\n  return {\r\n    body: typeof body === 'string' ? body : JSON.stringify(body),\r\n    method: 'post',\r\n  }\r\n}\r\n\r\nasync function post(url, body) {\r\n  const options = {\r\n    ...defaultOptions,\r\n    ...postOptions(body)\r\n  }\r\n\r\n  return request(`${baseURL}/${url}`, options);\r\n}\r\n\r\nasync function get(url) {\r\n  return request(`${baseURL}/${url}`, defaultOptions);\r\n}\r\n\r\nasync function deleteRequest(url) {\r\n  return request(`${baseURL}/${url}`, { ...defaultOptions, method: 'delete' });\r\n}\r\n\r\nasync function request(url, options) {\r\n  const response = await fetch(url, options);\r\n\r\n  return response.json();\r\n}\r\n\r\nasync function authRequest(url, method = get, body) {\r\n  const response = await method(url, body);\r\n\r\n  if (response.statusCode === 401) {\r\n    const response = await refreshToken();\r\n\r\n    if (response.statusCode === 401) {\r\n      return response;\r\n    }\r\n\r\n    return await method(url, body);\r\n  }\r\n\r\n  return response;\r\n}\r\n\r\nexport async function authPost(url, body) {\r\n  return authRequest(url, post, body);\r\n}\r\n\r\nexport async function authGet(url) {\r\n  return authRequest(url);\r\n}\r\n\r\nexport async function fetchQuizzes() {\r\n  return get('quizzes');\r\n}\r\n\r\nexport async function fetchQuiz({ queryKey }) {\r\n  const [_, quizId] = queryKey;\r\n\r\n  return get(`quizzes/${quizId}`);\r\n}\r\n\r\nexport async function refreshToken() {\r\n  return await post('auth/refresh');\r\n}\r\n\r\nexport async function createQuiz(quiz) {\r\n  return authPost('quizzes', quiz);\r\n}\r\n\r\nexport async function createUser(user) {\r\n  return post('users', user);\r\n}\r\n\r\nexport async function authUser(user) {\r\n  return post('users/auth', user);\r\n}\r\n\r\nexport async function deleteQuiz(id) {\r\n  return deleteRequest(`quizzes/${id}`);\r\n}\r\n","import { authPost, refreshToken } from \"./api\";\r\n\r\nexport function getKeys(path) {\r\n    return path.replace(/\\[(\\d*)\\]/g, \":array.$1\").split(\".\").map((key) => key.split(\":\"));\r\n}\r\n\r\nexport function put(path = \"\", obj, value) {\r\n    const keys = getKeys(path);\r\n    let currObj = obj || {};\r\n    keys.forEach(([key], index) => {\r\n      if (index === keys.length - 1) {\r\n        if (typeof value === 'function') {\r\n          value(currObj[key], currObj, key);\r\n        } else {\r\n          currObj[key] = value;\r\n        }\r\n      }\r\n\r\n      currObj = currObj[key];\r\n    });\r\n\r\n    return obj;\r\n} \r\n\r\nexport function getFromPath(path, obj, defaultValue = \"\") {\r\n    const keys = getKeys(path);\r\n\r\n    return keys.reduce((prev, [key]) => {\r\n      if (typeof prev[key] === \"undefined\") return defaultValue;\r\n      return (prev = prev[key]);\r\n    }, obj || {});\r\n}\r\n\r\nexport function createFromPath(path, value, obj = {}) {\r\n  let currObj = obj;\r\n  const keys = getKeys(path);\r\n  keys.forEach((key, index) => {\r\n    const [keyName, type] = key;\r\n   \r\n    if (index < keys.length - 1) {\r\n      if (!currObj[keyName]) {\r\n        currObj[keyName] = type ? [] : {};\r\n      }\r\n      currObj = currObj[keyName];\r\n    }\r\n\r\n    if (index === keys.length - 1) {\r\n      currObj[keyName] = value;\r\n    }\r\n  });\r\n\r\n  return obj;\r\n}\r\n\r\nexport function hasErrors(...arrays) {\r\n  return !!arrays.flat(Infinity).length; \r\n}\r\n\r\nexport function isEmpty(arr = []) {\r\n  return !arr.length;\r\n}\r\n\r\nexport function createCookie(cookieName, value, options) {\r\n  const { onExpire, ...rest } = options;\r\n\r\n  onExpire && setTimeout(onExpire, (rest['max-age'] + 10) * 1000);\r\n  \r\n  const parsedOptions = Object.entries(rest).map(([k, v]) => `${k}=${v};`).join(' ');\r\n  document.cookie = `${cookieName}=${JSON.stringify(value)}; ${parsedOptions}`;\r\n}\r\n\r\nexport function getCookie(cookieName) {\r\n  const reg = new RegExp(`(?<=${cookieName}=)(.*)(?=;|)`, 'g');\r\n\r\n  const [cookie] = document.cookie.match(reg) || [];\r\n\r\n  if (cookie) {\r\n    return JSON.parse(cookie);\r\n  }\r\n}\r\n\r\nexport function removeCookie(cookieName) {\r\n  document.cookie = `${cookieName}=; Max-Age=-1; path=/;`;\r\n\r\n  return !!getCookie(cookieName);\r\n}\r\n\r\nexport async function isAuth() {\r\n  const cookie = getCookie('user');\r\n\r\n  if (!cookie) {\r\n    const response = await refreshToken();\r\n\r\n    return response.statusCode !== 401;\r\n  }\r\n\r\n  return !!cookie;\r\n}\r\n\r\nexport async function logout(setAuth) {\r\n  await authPost('auth/logout');\r\n  removeCookie('user');\r\n  localStorage.setItem('auth', false);\r\n  setAuth(false);\r\n}\r\n","import styled, { keyframes } from 'styled-components';\r\n\r\nconst rotate = keyframes`\r\n    from {\r\n        transform: rotate(0deg);\r\n    }\r\n\r\n    to {\r\n        transform: rotate(359deg);\r\n    }\r\n`;\r\n\r\nexport const LoaderContainer = styled.div`\r\n    padding: 0 10px;\r\n    z-index: 9;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: absolute;\r\n    left: ${({ position }) => position === 'right' ? '100%' : '50%'};\r\n    top: 50%;\r\n    transform: ${({ position }) => position === 'right' ? 'translateY(-50%)' : 'translate(-50%, -50%)'};\r\n`;\r\n\r\nexport const Svg = styled.svg`\r\n    ${({ scale = 1 }) => `\r\n        width: ${scale * 38}px;\r\n        height: ${scale * 38}px;\r\n    `}\r\n    \r\n    @media screen and (min-width: 546px) {\r\n        right: -40px;\r\n    }\r\n\r\n    animation: ${rotate} 0.9s linear infinite;\r\n`;","import { LoaderContainer, Svg } from \"./style\";\r\n\r\nexport default function Loader({ scale, position }) {\r\n    return (\r\n      <LoaderContainer position={position}>\r\n        <Svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 64 64\" scale={scale}>\r\n          <path data-name=\"layer2\" d=\"M32 62a30 30 0 0 0 26.6-16.2C50 42 49.2 50.6 46 50s-4.2-3.3-6-.4-4.7 3-7.9 2.4-3.4.7-6.3 2-7.1-1.2-5.8-6-4.7-5.1-6-2-2.2 5.6-4 5.9h-.4A29.9 29.9 0 0 0 32 62z\" fill=\"#de9d63\"></path>\r\n          <path data-name=\"layer1\" d=\"M32 2A30 30 0 0 0 9.6 52h.4c1.9-.3 2.8-2.8 4-5.9s7.2-2.6 6 2 2.9 7.3 5.8 6 3.1-2.6 6.3-2 6.1.5 7.9-2.4 2.8-.2 6 .4 4-8 12.6-4.2A30 30 0 0 0 32 2zm0 40a10 10 0 1 1 10-10 10 10 0 0 1-10 10z\" fill=\"#f5a4c4\"></path>\r\n          <path data-name=\"opacity\" d=\"M20 36a10 10 0 0 0 19.7 2.4 10 10 0 0 1-17.4-8.8A10 10 0 0 0 20 36zM32 2A30 30 0 0 0 4.2 20.6a30 30 0 0 1 54.2 25.1h.3A30 30 0 0 0 32 2z\" fill=\"#fff\" opacity=\".25\"></path>\r\n          <circle \r\n            data-name=\"stroke\"\r\n            cx=\"32\"\r\n            cy=\"32\"\r\n            r=\"30\"\r\n            fill=\"none\"\r\n            stroke=\"#2f446a\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n          ></circle>\r\n          <circle\r\n            data-name=\"stroke\"\r\n            cx=\"32\"\r\n            cy=\"32\"\r\n            r=\"10\"\r\n            fill=\"none\"\r\n            stroke=\"#2f446a\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n          ></circle>\r\n          <path \r\n            data-name=\"stroke\"\r\n            d=\"M10 51.9c1.9-.3 2.8-2.8 4-5.9s7.2-2.6 6 2 2.9 7.3 5.8 6 3.1-2.6 6.3-2 6.1.5 7.9-2.4 2.8-.2 6 .4 4-8 12.6-4.2M18 14l4 4m-8 8l-4 4m2 8h4m10-28h8m10 4l-4 4m10 6l4 2m-4 8v4\" \r\n            fill=\"none\" \r\n            stroke=\"#2f446a\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\" \r\n            strokeWidth=\"2\"\r\n          ></path>\r\n        </Svg>    \r\n        </LoaderContainer>\r\n    );\r\n}","import { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const NavigationList = styled.ul`\r\n    display: flex;\r\n    list-style: none;\r\n    justify-content: space-between;\r\n    width: 300px;\r\n    padding: 0;\r\n    margin: 20px auto;\r\n`\r\n\r\nexport const NavigationLink = styled(Link)`\r\n    text-decoration: none;\r\n    color: #222;\r\n    font-weight: 600;\r\n    position: relative;\r\n`","import { useContext, useState } from \"react\";\r\nimport { UserContext } from \"../../context/User\";\r\nimport { logout } from \"../../helpers\";\r\nimport Loader from \"../Loader\";\r\nimport { NavigationLink, NavigationList } from \"./styles\";\r\nconst NavigationLogout = ({setAuth}) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  return <li>\r\n    <NavigationLink style={{position: 'relative'}} to=\"/wyloguj\" onClick={async (e) => {\r\n      e.preventDefault();\r\n      setIsLoading(true);\r\n      await logout(setAuth);\r\n      setIsLoading(false);\r\n    }}>{isLoading && <Loader scale={0.5} position='right'/>} Wyloguj</NavigationLink>\r\n  </li>\r\n}\r\nexport default function Navigation() {\r\n  const { setAuth, auth } = useContext(UserContext);\r\n\r\n  return (\r\n    <nav>\r\n      <NavigationList>\r\n        <li>\r\n          <NavigationLink to=\"/\">Strona główna</NavigationLink>\r\n        </li>\r\n        <li>\r\n          <NavigationLink to=\"/profil\">Twój profil</NavigationLink>\r\n        </li>\r\n        <li>\r\n          <NavigationLink to=\"/dodaj-quiz\">Dodaj quiz</NavigationLink>\r\n        </li>\r\n        { auth && <NavigationLogout setAuth={setAuth}/> }\r\n      </NavigationList>\r\n    </nav>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { createFromPath, getFromPath, put } from '../helpers';\r\nimport errorsMessages from './errors';\r\n\r\nexport default class Validator {\r\n  constructor(errors) {\r\n    this.errors = errors;\r\n  }\r\n\r\n  messages(errors) {\r\n    this.errors = {\r\n      ...this.errors,\r\n      ...errors,\r\n    }\r\n  }\r\n\r\n  validateOnce(rules, value) {\r\n    const errors = [];\r\n    Object.entries(rules).forEach(([rule, args]) => {\r\n      if (rule === 'one') return;\r\n      if (!this[rule](value, ...args)) {\r\n        errors.push(this.errors[rule](...args));\r\n      }\r\n      \r\n      this.isValid = !errors.length;\r\n      if (this.isAllValid === null || this.isAllValid) {\r\n        this.isAllValid = this.isValid;\r\n      }\r\n    });\r\n\r\n    return errors;\r\n  }\r\n\r\n  validate(values, schema) {\r\n    this.isAllValid = null;\r\n\r\n    const errors = {};\r\n    Object.entries(schema).forEach(([name, rules]) => {\r\n      createFromPath(name, [], errors);\r\n      const vals = getFromPath(name, values);\r\n      const isRequired = (rules.required || [])[0];\r\n      const onlyFirstValid = (rules.one || [])[0];\r\n\r\n      if (isRequired || vals) {\r\n          this.isValid = true; \r\n          if (Array.isArray(vals)) {\r\n            if (!vals.length) {\r\n              return put(name, errors, (obj) => obj.push(this.validateOnce(rules)));\r\n            }\r\n\r\n            for (const val of vals) {\r\n              put(name, errors, obj => obj.push(this.validateOnce(rules, val)));\r\n              if (this.isValid && onlyFirstValid) {\r\n                put(name, errors, []);\r\n                break;\r\n              }\r\n            }\r\n          } else {\r\n            put(name, errors, (obj) => obj.push(...this.validateOnce(rules, vals)));\r\n          }\r\n      }\r\n    });\r\n    return [errors, this.isAllValid];\r\n  }\r\n\r\n  __extend(functionName, [fn, message]) {\r\n    this.errors[functionName] = message;\r\n    this[functionName] = fn;\r\n  }\r\n\r\n  required(value) {\r\n    return !!value;\r\n  }\r\n\r\n  minLength(value, min) {\r\n    return value.length >= min;\r\n  }\r\n\r\n  maxLength(value, max) {\r\n    return value.length <= max;\r\n  }\r\n\r\n  isEmail(value) {\r\n    return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+))*$/.test(value);\r\n  }\r\n}\r\n\r\n\r\nconst validator = new Validator(errorsMessages);\r\nexport const validateSchema = {\r\n  create() {\r\n    const instance = {\r\n      schema: {},\r\n      validator,\r\n      create: this.create,\r\n      add(names, rules) {\r\n          names.forEach(name => {\r\n            if (!this.schema[name]) {\r\n              this.schema[name] = {};\r\n            }\r\n            \r\n            Object\r\n              .entries(rules)\r\n              .map(([method, args]) => {\r\n                if (args === undefined) args = [];\r\n                if (!Array.isArray(args)) args = [args];\r\n    \r\n                this.schema[name][method] = args;\r\n              });\r\n          });\r\n    \r\n          return this;\r\n      }\r\n    }\r\n\r\n    return instance;\r\n  },\r\n}\r\n\r\nexport function useValidate(values, initialValues, schema, validator) {\r\n  const [[ errors, isValid ], setResult] = useState(validator.validate(initialValues, schema));\r\n\r\n  useEffect(() => {\r\n    setResult(validator.validate(values, schema));\r\n  }, [values]);\r\n\r\n  return { errors, isValid };\r\n}\r\n","export default {\r\n  required: () => 'To pole jest wymagane!',\r\n  minLength: (min) => `To pole musi mieć conajmniej ${min} znaków!`,\r\n  maxLength: max => `To pole może mieć maksymalnie ${max} znaków!`,\r\n  isEmail: () => 'To pole musi być poprawnym adresem email',\r\n}","import { useEffect, useState } from \"react\";\r\nimport { createFromPath, getFromPath, put } from \"../../helpers\";\r\nimport { useValidate } from \"../../Validator\";\r\n\r\nexport default function EasyForm({\r\n    render = () => {},\r\n    initialValues = {},\r\n    schema: { schema, validator } = {},\r\n    onSubmit = () => {},\r\n    mapValues = (values) => values,\r\n}) {\r\n    const [values, setValues] = useState(initialValues);\r\n    const { isValid, errors } = useValidate(values, initialValues, schema, validator);\r\n    \r\n    async function onSubmitListener(ev) {\r\n      ev.preventDefault();\r\n      onSubmit({ ev, errors, isValid, originalValues: values, values: mapValues(values), setValues });\r\n    }\r\n\r\n    function input(name, onChange = () => {}) {\r\n      const value = getFromPath(name, values, '');\r\n      const checked = getFromPath(name, values, false);\r\n\r\n      const onChangeListener = (e) => {\r\n        const { target: { type, value, checked, name } } = e;\r\n        const inputValue = type === \"radio\" || type === \"checkbox\" ? checked : value;\r\n\r\n        setValues(prevValues => {\r\n          const newValues = { ...prevValues };\r\n\r\n          put(name, newValues, inputValue);\r\n          onChange(mapValues(newValues), e);\r\n\r\n          return newValues;\r\n        });\r\n      };\r\n\r\n      const props = {\r\n        name,\r\n        onChange: (e) => {\r\n          onChangeListener(e);\r\n        },\r\n        value,\r\n        checked,\r\n        id: name,\r\n        isNotEmpty: value !== \"\",\r\n      };\r\n\r\n      return props;\r\n    }\r\n\r\n    return render({ setValues, values, initialValues, mappedValues: mapValues(values), input, onSubmit: onSubmitListener, errors,  isValid, mapValues });\r\n}","import { Link } from \"react-router-dom\";\r\n\r\nexport default function Tag({ tag, last }) {\r\n  return (\r\n    <>\r\n      <Link to={`/tag/${tag}`}>{tag}</Link>{ !last && ', ' }\r\n    </>\r\n  );\r\n}","import styled from \"styled-components\";\r\n\r\nexport const TagsContainer = styled.div`\r\n    width: 95%;\r\n    max-width: 400px;\r\n    margin: 5px 0;\r\n`;","import Tag from \"../Tag\";\r\nimport { TagsContainer } from \"./style\";\r\n\r\nexport default function Tags({ tags }) {\r\n  return (\r\n    <TagsContainer>\r\n      Tagi: { tags.map(({ category: tag }, index) => <Tag tag={tag} last={index === tags.length - 1} />) }\r\n    </TagsContainer>\r\n  );\r\n}","import styled from \"styled-components\";\r\n\r\nexport const SrOnly = styled.span`\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 1px;\r\n    padding: 0;\r\n    margin: -1px;\r\n    overflow: hidden;\r\n    clip-path: polygon(0, 0, 0);\r\n    border: 0;\r\n`;\r\n\r\nexport const StyledButton = styled.button`\r\n    border: 1px solid rgba(0, 0, 0, .2);\r\n    padding: ${({ hasIcon }) => hasIcon ? '6px 8px' : '10px 18px' };\r\n    cursor: ${({ disabled }) => disabled ? 'not-allowed' : 'pointer'};\r\n    display: flex;\r\n    margin: ${({ full }) => full ? '10px auto' : '16px 8px auto 2px' };\r\n    background: #fff;\r\n    transition: background 0.3s;\r\n    font-weight: 600;    \r\n    justify-content: center;\r\n    border-radius: 0;\r\n    align-items: center;\r\n    position: relative;\r\n\r\n    & svg {\r\n        transition: fill 0.3s;\r\n    }\r\n\r\n    width: ${({ hasIcon }) => hasIcon ? 'auto' : '100%'};\r\n\r\n    @media screen and (min-width: 546px) {\r\n        width: ${({ full }) => full ? '100%' : 'auto'};\r\n    }\r\n\r\n    &:not([disabled]):hover {\r\n        background: ${({ full }) => full ? '#52d250' : '#a54545'};\r\n        color: #fff;\r\n        & svg {\r\n            fill: #eee;\r\n        }\r\n    }\r\n`;\r\n","import Loader from \"../Loader\";\r\nimport { SrOnly, StyledButton } from \"./style\";\r\n\r\nexport default function Button({ children, srOnly, isLoading, disabled, ...props }) {\r\n    return (\r\n        <StyledButton hasIcon={!!srOnly} disabled={isLoading || disabled} {...props}>\r\n            { !!srOnly && <SrOnly>{ srOnly }</SrOnly> }\r\n            { isLoading ? <>{children}<Loader scale={0.6}/></> : children }\r\n        </StyledButton>\r\n    );\r\n}","import styled from \"styled-components\";\r\n\r\nexport const StyledForm = styled.form`\r\n    width: 95%;\r\n    max-width: 400px;\r\n    margin: 0 auto;\r\n`;\r\n\r\nexport const Message = styled.div`\r\n    color: ${({ isSuccess }) => isSuccess ? '#52d250' : 'red'};\r\n    margin-top: 50px;\r\n`;\r\n","import { Link } from \"react-router-dom\";\r\nimport { Message, StyledForm } from \"./style\";\r\n\r\nconst responseMessages = {\r\n  userExists: 'Taki użytkownik już istnieje!',\r\n  Unauthorized: 'Musisz się zalogować!',\r\n  wrongCredentials: 'Email lub hasło jest nieprawidłowe'\r\n}\r\n\r\nexport default function Form({ children, onSubmit, errorMessage, successMessage, isSuccess, ...props }) {\r\n  return (\r\n    <StyledForm onSubmit={onSubmit} {...props}>\r\n      <Message role=\"alert\" isSuccess={isSuccess}>\r\n        { isSuccess ? successMessage : responseMessages[errorMessage] }\r\n      </Message>\r\n      {children}\r\n    </StyledForm>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/check-mark.491c7c33.svg\";","import styled from \"styled-components\";\r\nimport checkMark from '../../assets/check-mark.svg';\r\n\r\n\r\nexport const StyledCustomCheckbox = styled.span`\r\n    border: 1px solid;\r\n    width: 24px;\r\n    display: flex;\r\n    height: 24px;\r\n    position: relative;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-left: 10px;\r\n    overflow: hidden;\r\n\r\n    &::after {\r\n        content: '';\r\n        background: url(${checkMark});\r\n        display: block;\r\n        background-size: contain;\r\n        position: absolute;\r\n        bottom: -18px;\r\n        width: 18px;\r\n        height: 18px;\r\n    }\r\n`;\r\n","import { StyledCustomCheckbox } from \"./style\";\r\n\r\nexport default function CustomCheckbox({ type }) {\r\n    return (\r\n        <StyledCustomCheckbox />\r\n    )\r\n}","import styled from \"styled-components\";\r\n\r\nexport const StyledFormField = styled.div`\r\n    display: flex;\r\n    margin: 15px 0;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    padding: 8px 0;\r\n    ${({ isCorrectAnswer }) => isCorrectAnswer === true && 'background: green'};\r\n`;\r\n\r\nexport const InputContainer = styled.div`\r\n    position: relative;\r\n`;\r\n\r\nexport const Errors = styled.div`\r\n    color: red;\r\n    font-size: 0.75em;\r\n    padding: ${({ padding }) => padding && '8px'};\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\n","import { Errors, InputContainer, StyledFormField } from \"./style\";\r\n\r\nexport default function FormField({ children, errors = [], isCorrectAnswer, ...props }) {\r\n  return (\r\n    <StyledFormField {...props} isCorrectAnswer={isCorrectAnswer}>\r\n      <InputContainer>\r\n        {children}\r\n      </InputContainer>\r\n      <Errors\r\n        role=\"alert\"\r\n        padding={!!errors.length}\r\n      >\r\n        {errors.map((error) => \r\n          <span key={error}>{error}</span>\r\n        )}\r\n      </Errors>\r\n    </StyledFormField>\r\n  );\r\n}\r\n","import styled, { css } from \"styled-components\";\r\n\r\nconst styleForCheckbox = css`\r\n    box-shadow: none;\r\n    position: absolute;\r\n    left: -9999px;\r\n\r\n    & + label {\r\n        color: #222;\r\n        display: flex;\r\n        align-items: center;\r\n        text-transform: uppercase;\r\n        font-size: .725em;\r\n        padding-left: 8px;\r\n        position: static;\r\n        padding: 5px;\r\n    }\r\n\r\n    & + label span::after {\r\n        transition: transform .3s;\r\n    }\r\n\r\n    &:checked + label span::after {\r\n        transform: translateY(calc(-100% - 2px));\r\n    }\r\n`\r\n\r\nconst labelOnFocus = css`\r\n    transform: translateY(-65%);\r\n    top: 1px;\r\n    transition: transform .3s;\r\n    font-size: .875em;\r\n`\r\n\r\nexport const StyledInput = styled.input`\r\n    border: ${({ border }) => border || \"1px solid rgb(0 0 0 / 20%)\"};\r\n    padding: 10px 8px;\r\n    width: 100%;\r\n    line-height: 1.8;\r\n    border-radius: 0;\r\n    \r\n    & + label {\r\n        transition: transform .3s;\r\n    }\r\n\r\n    &:not([type=\"checkbox\"]):focus + label {\r\n        ${ labelOnFocus }\r\n    }\r\n    \r\n    &:not([type=\"checkbox\"]):not(:focus) + label {\r\n        ${({ isNotEmpty }) => isNotEmpty && labelOnFocus}\r\n    }\r\n\r\n    &[type=\"checkbox\"]:focus + label span {\r\n        box-shadow: 0 0 0 2px;\r\n    }\r\n    \r\n    ${({ type }) => (type === \"checkbox\" || type === \"radio\") && styleForCheckbox}\r\n`;\r\n","import { StyledInput } from \"./style\";\r\n\r\nexport default function Input({ type, name, id, ...props }) {\r\n  return <StyledInput type={type} name={name} id={id} {...props} />\r\n}","import styled from \"styled-components\";\r\n\r\nexport const StyledLabel = styled.label`\r\n    position: ${({ position = \"absolute\" }) => position};\r\n    top: 50%;\r\n    transform: ${({ position }) => position !== \"static\" && \"translateY(-50%)\"};\r\n    left: 8px;\r\n    color: ${({ color = \"#a09797\" }) => color};\r\n    display: flex;\r\n    cursor: ${({ position }) => position === \"static\" ? 'pointer' : 'text'};\r\n    background-color: #fff;\r\n    padding: 0 4px;\r\n    /* &:checked {\r\n        color: ${({ isCorrectAnswer }) => isCorrectAnswer !== undefined && '#fff'};\r\n        background-color: ${({ isCorrectAnswer }) => isCorrectAnswer ? 'green' : isCorrectAnswer === false && 'red'};\r\n        padding: ${({ isCorrectAnswer }) => isCorrectAnswer !== undefined && '5px'} 4px;\r\n    } */\r\n`;","import { StyledLabel } from \"./style\";\r\n\r\nexport default function Label({ htmlFor, children, ...props }) {\r\n  return (\r\n    <StyledLabel htmlFor={htmlFor} {...props}>{children}</StyledLabel>\r\n  );\r\n}","import CustomCheckbox from \"../CustomCheckbox\";\r\nimport FormField from \"../FormField\";\r\nimport Input from \"../Input\";\r\nimport Label from \"../Label\";\r\n\r\nexport default function Answer({ questionId, formState: { errors, input }, result, correctAnswers, answer: { answer: content, id }, index }) {\r\n    const isCorrectAnswer = result === undefined ? result : !!correctAnswers.find(answer => answer === id);\r\n    return (\r\n        <FormField errors={errors[questionId][index]}>\r\n            <Input type=\"checkbox\" { ...input(`answers[${questionId}][${index}]`) } disabled={result !== undefined} id={`answer_${questionId}_${index}`} data-answer-id={id}/>\r\n            <Label \r\n                htmlFor={`answer_${questionId}_${index}`}\r\n                position=\"static\"\r\n                isCorrectAnswer={isCorrectAnswer}\r\n                color={result !== undefined && '#fff'}\r\n            >\r\n                {index + 1}. {content}\r\n                <CustomCheckbox />\r\n            </Label>\r\n        </FormField>\r\n    );\r\n}","import Answer from \"../Answer\";\r\n\r\nexport default function Answers({ answers, questionId, formState, checkAnswersResult = [undefined, []] }) {\r\n    const [result, correctAnswers] = checkAnswersResult;\r\n    return answers.map((answer, index) => (\r\n        <Answer\r\n            key={questionId + '-' + index}\r\n            correctAnswers={correctAnswers}\r\n            formState={formState}\r\n            result={result}\r\n            index={index}\r\n            answer={answer}\r\n            questionId={questionId}\r\n        /> \r\n    ));\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledQuestion = styled.div`\r\n    ${({ isCorrectQuestion }) => isCorrectQuestion !== undefined && `\r\n        background: ${isCorrectQuestion ? '#52d250' : 'rgb(255 60 60)'};\r\n        padding: 8px;\r\n        margin: 12px 0;\r\n        color: #fff;\r\n    `}\r\n`;","import Answers from \"../Answers\";\r\nimport Button from \"../Button\";\r\nimport { StyledQuestion } from \"./style\";\r\n\r\nexport default function Question({ question, id, setQuiz, questionAnswers, index, formState, dummy, data }) {\r\n    function removeQuestion() {\r\n        setQuiz(quiz => {\r\n            const questions = [...quiz.questions];\r\n\r\n            questions.splice(index, 1);\r\n\r\n            return { ...quiz, questions };\r\n        })\r\n    }\r\n\r\n    return (\r\n        <StyledQuestion isCorrectQuestion={data[0]}>\r\n            <p>{index + 1}. {question}</p>\r\n            <Answers answers={questionAnswers} questionId={index} formState={formState} checkAnswersResult={data} id={id}/>\r\n            { dummy && <Button onClick={removeQuestion} type=\"button\">Usuń pytanie</Button> }\r\n        </StyledQuestion>\r\n    );\r\n}\r\n","import Question from \"../Question\"\r\n\r\nexport default function Questions({ questions = [], setQuiz, formState, dummy, data }) {\r\n    return questions.map(({ question, answers, id }, index) => \r\n        <Question \r\n            key={question + index}\r\n            index={index}\r\n            question={question}\r\n            questionAnswers={answers}\r\n            formState={formState}\r\n            setQuiz={setQuiz}\r\n            dummy={dummy}\r\n            data={data[id] || []}\r\n            id={id}\r\n        />\r\n    )\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport { hasErrors } from \"../../helpers\";\r\nimport Button from \"../Button\";\r\nimport Form from \"../Form\";\r\nimport Questions from \"../Questions\";\r\n\r\nexport default function QuizForm({ onSubmit, questions, dummy = false, setQuiz, formState, data, isLoading }) {\r\n    useEffect(() => {\r\n        const lastQuestion = questions[questions.length - 1];\r\n        if (dummy && lastQuestion) {\r\n            formState.setValues(\r\n                ({ answers } = { answers: [] }) => (\r\n                    { answers: [...answers, lastQuestion.answers.map(() => false)] }\r\n                )\r\n            )\r\n        }\r\n    }, [questions]);\r\n\r\n    if (formState.errors === undefined) return null;\r\n\r\n    return (\r\n        formState.errors.length === questions.length && (\r\n        <Form onSubmit={onSubmit}>\r\n            <Questions data={data} dummy={dummy} questions={questions} setQuiz={setQuiz} formState={formState}/>\r\n            { !dummy && <Button type=\"submit\" isLoading={isLoading} disabled={hasErrors(formState.errors)}>Sprawdź odpowiedzi</Button> }\r\n        </Form>\r\n    ))\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const QuizTitle = styled.h1`\r\n    width: 95%;\r\n    margin: 0;\r\n    max-width: 400px;\r\n    margin: 15px auto 0 auto;\r\n    font-size: 1.5em;\r\n    font-weight: 600;\r\n`\r\n\r\nexport const QuizContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`\r\n","import { validateSchema } from \"../../Validator\";\r\nimport EasyForm from \"../EasyForm\";\r\nimport Tags from \"../Tags\";\r\nimport QuizForm from '../QuizForm';\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { UserContext } from \"../../context/User\";\r\nimport Input from \"../Input\";\r\nimport { authPost } from \"../../api\";\r\nimport { QuizContainer, QuizTitle } from \"./style\";\r\n\r\n\r\n\r\nfunction addValidationRules(index, schema) {\r\n    schema.add([`answers[${index}]`], {\r\n        required: true,\r\n        one: true,\r\n    });\r\n}\r\n\r\nfunction createInitialValues(schema) {\r\n    return (values, { answers }, index) => {\r\n        addValidationRules(index, schema);\r\n\r\n        values.answers.push(Array(answers.length).fill(false));\r\n\r\n        return values;\r\n    }\r\n}\r\n\r\nexport default function Quiz({ id, name, questions, tags, dummy = false, setQuiz }) {\r\n    const { auth } = useContext(UserContext);\r\n    \r\n    const schema = validateSchema.create();\r\n    const initialValues = questions.reduce(createInitialValues(schema), { answers: [] });\r\n\r\n    const { mutateAsync, data = {}, isLoading } = useMutation('checkAnswers', (answers) => {\r\n        return authPost('quizzes/' + id + '/answers', {\r\n            userName: 'kackar',\r\n            answers,\r\n        })\r\n    })\r\n\r\n\r\n    async function checkAnswers({ ev, values: { answers } }) {\r\n        ev.preventDefault();\r\n\r\n        const reducedAnswers = questions.reduce(\r\n            (prevAnswers, { id, answers: questionAnswers }, index) => (\r\n                { \r\n                    ...prevAnswers,\r\n                    [id]: answers[index].map((answer, index) => answer && questionAnswers[index].id).filter(Boolean),\r\n                }\r\n            )\r\n        , {});\r\n\r\n        console.log(await mutateAsync(reducedAnswers));\r\n    }\r\n\r\n    return (\r\n        auth ? (\r\n        <QuizContainer>\r\n            <QuizTitle>{name}</QuizTitle>\r\n            <Tags tags={tags}/>\r\n            <EasyForm\r\n                schema={schema}\r\n                onSubmit={checkAnswers}\r\n                initialValues={initialValues}\r\n                render={({ onSubmit, errors: { answers }, input, setValues, values }) => (  \r\n                    <QuizForm\r\n                        dummy={dummy}\r\n                        onSubmit={onSubmit}\r\n                        formState={{ errors: answers, input, setValues, values }}\r\n                        questions={questions}\r\n                        setQuiz={setQuiz}\r\n                        data={data}\r\n                        isLoading={isLoading}\r\n                    />\r\n                )}\r\n            />\r\n        </QuizContainer>\r\n    ): <Input id=\"user_name\" />)\r\n}","import { useQuery } from \"react-query\";\r\nimport { useParams } from \"react-router\";\r\nimport { fetchQuiz } from \"../api\";\r\nimport Loader from \"../components/Loader\";\r\nimport Quiz from \"../components/Quiz\";\r\n\r\nexport default function QuizPage() {\r\n    const { quizId } = useParams();\r\n\r\n    const { data, isLoading } = useQuery(['quiz', quizId], fetchQuiz);\r\n    const { name, questions = [], id, categories = [] } = data || {};\r\n\r\n    return isLoading ? <Loader /> : <Quiz id={id} name={name} questions={questions} tags={categories}/>\r\n}\r\n","import styled from \"styled-components\";\r\nimport { NavigationLink } from \"../Navigation/styles\";\r\n\r\nexport const MessageContainer = styled.div`\r\n    display: flex;\r\n    align-items: flex-start;\r\n    width: 95%;\r\n    margin: 0 auto;\r\n    background: #fff;\r\n    color: #222;\r\n    border-radius: 2px;\r\n    padding: 10px 0 10px 8px;\r\n    box-shadow: 0 0 3px 1px rgba(0, 0, 0, .2);\r\n    max-width: 60ch;\r\n    flex-direction: column;\r\n    font-size: 0.85em;\r\n`;\r\n\r\nexport const MessageContent = styled.p`\r\n    display: flex;\r\n    margin: 0 0 10px 0;\r\n`;\r\n\r\nexport const MessageLink = styled(NavigationLink)`\r\n    display: flex;\r\n    padding: 8px;\r\n    background-color: #222;\r\n    color: #fff;\r\n`;\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrashCan(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrashCan);\nexport default __webpack_public_path__ + \"static/media/trash-can.9dc57184.svg\";\nexport { ForwardRef as ReactComponent };","import { NavigationLink } from \"../Navigation/styles\";\r\nimport { MessageContainer, MessageContent, MessageLink } from \"./style\";\r\n\r\nexport default function Message({ message, to, link }) {\r\n    return (\r\n        <MessageContainer>\r\n            <MessageContent>{ message }</MessageContent>\r\n            <MessageLink to={to}>{link}</MessageLink>\r\n        </MessageContainer>\r\n    )\r\n}","import { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const QuizPreviewContainer = styled.div`\r\n    max-width: 60ch;\r\n    padding: 20px 10px;\r\n    margin: 0 auto;\r\n    width: 100%;\r\n    position: relative;\r\n`;\r\n\r\nexport const AuthorLink = styled(Link)`\r\n    text-decoration: none;\r\n    color: #611f5c;\r\n    font-weight: 600;\r\n`\r\n\r\nexport const QuizTitle = styled(Link)`\r\n    text-decoration: none;\r\n    color: #e6d584;\r\n    text-transform: uppercase;\r\n    padding: 10px;\r\n    background: #000000;\r\n    margin-bottom: 4px;\r\n    display: inline-block;\r\n    font-weight: 700;\r\n    min-width: 100px;\r\n    margin-right: 6px;\r\n    position: relative;\r\n    width: calc(100% - 45px);\r\n\r\n    &::before {\r\n        content: '';\r\n        position: absolute;\r\n        border: 2px solid #611f5c;\r\n        width: 100%;\r\n        height: 100%;\r\n        transform: translate(5px, 5px);\r\n        left: 0;\r\n        top: 0;\r\n        z-index: -1;\r\n        transition: transform .3s, background-color .3s;\r\n    }\r\n\r\n    &:hover::before {\r\n        transform: translate(-5px, -5px);\r\n        background-color: #611f5c;\r\n    }\r\n`\r\n\r\nexport const MetaDataContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    box-shadow: 0 0 0 1px rgb(0 0 0 / 20%);\r\n    margin-top: 10px;\r\n    padding: 8px;\r\n    justify-content: space-between;\r\n\r\n    & button {\r\n        margin: 0 0 0 15px;\r\n    }\r\n`\r\n\r\nexport const NumberOfQuestions = styled.span`\r\n    display: flex;\r\n    background: #000000;\r\n    width: 30px;\r\n    height: 30px;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 20px;\r\n    color: #e6d584;\r\n    right: 10px;\r\n`\r\n","import Tags from \"../Tags\";\r\nimport Button from \"../Button\";\r\nimport { ReactComponent as TrashIcon } from \"../../assets/trash-can.svg\";\r\nimport { MetaDataContainer, QuizTitle, AuthorLink, QuizPreviewContainer, NumberOfQuestions } from \"./style\";\r\n\r\nexport default function QuizPreview({ name, tags = [], id, user, getUserQuizzes, numOfQuestions, removeQuiz, isLoading, removedId }) {\r\n  if (removedId === id) return null;\r\n  return (\r\n    <QuizPreviewContainer>\r\n      <div>\r\n        <QuizTitle to={`/quiz/${id}/${name}`}>{ name }</QuizTitle>\r\n        <NumberOfQuestions>{numOfQuestions}</NumberOfQuestions>\r\n      </div>\r\n      <MetaDataContainer>\r\n        <Tags tags={tags} />\r\n        <AuthorLink to={`/uzytkownicy/${user.name}`}>{ user.name }</AuthorLink>\r\n        {removeQuiz && (\r\n          <Button \r\n            type=\"button\"\r\n            onClick={async () => {\r\n              await removeQuiz(id);\r\n              getUserQuizzes();\r\n            }} \r\n            srOnly=\"Usuń\"\r\n            isLoading={isLoading}\r\n          >\r\n            <TrashIcon />\r\n          </Button>\r\n        )}\r\n      </MetaDataContainer>\r\n    </QuizPreviewContainer>\r\n  );\r\n}\r\n","import { useQuery } from \"react-query\"\r\nimport { fetchQuizzes } from \"../api\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport QuizPreview from \"../components/QuizPreview\";\r\nimport { isEmpty } from \"../helpers\";\r\n\r\nexport default function Home() {\r\n  const { data: quizzes = [], isLoading } = useQuery('quizzes', fetchQuizzes);\r\n\r\n  if (isLoading) return <Loader />\r\n\r\n  const renderQuizzes = () => {\r\n    if (isEmpty(quizzes)) {\r\n      return <Message to=\"/dodaj-quiz\" link=\"Dodaj quiz\" message=\"Nie ma jeszcze żadnych quizów :(\"/>\r\n    }\r\n\r\n    return quizzes.map(({ id, user, name, categories, questions }) => (\r\n      <QuizPreview id={id} user={user} numOfQuestions={questions.length} name={name} key={id} tags={categories}/>\r\n    ))\r\n  }\r\n\r\n  return renderQuizzes();\r\n}\r\n","import { useMutation } from \"react-query\";\r\nimport { validateSchema } from \"../../Validator\";\r\nimport Button from \"../Button\";\r\nimport EasyForm from \"../EasyForm\";\r\nimport Form from \"../Form\";\r\nimport FormField from \"../FormField\";\r\nimport Input from \"../Input\";\r\nimport Label from \"../Label\";\r\n\r\nconst schema = validateSchema\r\n  .create()\r\n  .add(['email', 'password'], {\r\n    required: true,\r\n  })\r\n  .add(['password'], {\r\n    minLength: 10,\r\n  })\r\n  .add(['email'], {\r\n    isEmail: true,\r\n  })\r\n\r\nexport default function AuthForm({\r\n  title, \r\n  apiFunction = () => {}, \r\n  successMessage,\r\n  afterRequest = () => {},\r\n}) {\r\n  const id = Math.floor(Math.random() * 999);\r\n  const { mutate, isLoading, data = {} } = useMutation('auth' + id, apiFunction, { onSuccess: afterRequest });\r\n\r\n  return (\r\n    <EasyForm\r\n      schema={schema}\r\n      onSubmit={async ({ values }) => {\r\n        mutate(values);\r\n      }}\r\n      initialValues={{\r\n        email: '',\r\n        password: ''\r\n      }}\r\n      render={({ input, onSubmit, errors: { email, password } }) => \r\n        <Form \r\n          onSubmit={onSubmit}\r\n          errorMessage={data.error}\r\n          successMessage={successMessage}\r\n          isSuccess={data.statusCode === 200 || data.statusCode === 201}\r\n        >\r\n          <h2>{ title }</h2>\r\n          <FormField errors={email}>\r\n            <Input {...input('email')} type=\"email\" id={`email-${id}`} disabled={isLoading}/>\r\n            <Label htmlFor={`email-${id}`}>Email</Label>\r\n          </FormField>\r\n          <FormField errors={password}>\r\n            <Input type=\"text\" {...input('password')} id={`password-${id}`} disabled={isLoading}/>\r\n            <Label htmlFor={`password-${id}`}>Password</Label>\r\n          </FormField>\r\n          <Button type=\"submit\" isLoading={isLoading}>\r\n            { title }\r\n          </Button>\r\n        </Form>\r\n    }/>\r\n  );\r\n}","import { useContext } from \"react\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router\";\r\nimport { authGet, authUser, createUser, deleteQuiz } from \"../api\";\r\nimport AuthForm from \"../components/AuthForm\";\r\nimport QuizPreview from \"../components/QuizPreview\";\r\nimport { UserContext } from \"../context/User\";\r\nimport Loader from \"../components/Loader\";\r\nimport { createCookie, isEmpty } from \"../helpers\";\r\nimport Message from \"../components/Message\";\r\n\r\nexport default function Profile() {\r\n  const { setUser, auth, setAuth } = useContext(UserContext);\r\n  const { data = [], isLoading, refetch } = useQuery('getUserQuizzes', async () => {\r\n    return authGet('users/quizzes');\r\n  });\r\n  const { mutateAsync, isLoading: removeQuizIsLoading, data: deletedQuizData = {} } = useMutation('removeQuiz', deleteQuiz);\r\n  const history = useHistory();\r\n\r\n  if (!auth) {\r\n    return (\r\n      <>\r\n        <AuthForm\r\n          title=\"Zarejestruj się\"\r\n          successMessage='Pomyślnie stworzyłeś konto!'\r\n          apiFunction={createUser}\r\n        />\r\n        <AuthForm \r\n          title=\"Zaloguj się\"\r\n          successMessage='Pomyślnie się zalogowałeś!'\r\n          apiFunction={authUser}\r\n          afterRequest={({ name, id } = {}) => {\r\n            setUser({ name, id });\r\n            createCookie('user', { name, id }, { 'max-age': 1200, path: '/' });\r\n            setAuth(true);\r\n            localStorage.setItem('auth', true);\r\n            history.goBack();\r\n          }}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n  let quizzes = Array.isArray(data) ? data : [];\r\n  quizzes = quizzes.filter(({ id }) => deletedQuizData.id !== id);\r\n\r\n  const renderQuizPreview = ({ id, user, name, categories, questions }) => (\r\n    <QuizPreview\r\n      id={id}\r\n      tags={categories}\r\n      user={user}\r\n      name={name}\r\n      key={id}\r\n      numOfQuestions={questions.length}\r\n      removeQuiz={mutateAsync}\r\n      removedId={deletedQuizData.id}\r\n      isLoading={removeQuizIsLoading}\r\n      getUserQuizzes={refetch}\r\n    />\r\n  );\r\n\r\n  if (isEmpty(quizzes)) {\r\n    return <Message to=\"/dodaj-quiz\" link=\"Dodaj quiz\" message=\"Nie masz jeszcze żadnych quizów :(\"/>\r\n  }\r\n\r\n  return !isLoading ? quizzes.map(renderQuizPreview) : <Loader />;\r\n}\r\n","import CustomCheckbox from \"../CustomCheckbox\";\r\nimport FormField from \"../FormField\";\r\nimport Input from \"../Input\";\r\nimport Label from \"../Label\";\r\n\r\nexport default function CorrectAnswer({ id, errors, input, name }) {\r\n    return (\r\n        <FormField errors={errors}>\r\n            <Input {...input(name)} type=\"checkbox\" id={`correct_answer_${id}`}/>\r\n            <Label \r\n                htmlFor={`correct_answer_${id}`}\r\n                position=\"static\"\r\n            >\r\n                Poprawna odpowiedź\r\n                <CustomCheckbox />\r\n            </Label>\r\n        </FormField>\r\n    );\r\n}\r\n","import styled from \"styled-components\";\r\nimport Button from \"../Button\";\r\nimport FormField from \"../FormField\";\r\nimport Input from \"../Input\";\r\n\r\nexport const AnswerInputContainer = styled.div`\r\n    position: relative;\r\n    padding: 0;\r\n    border: 1px solid rgb(0 0 0 / 20%);\r\n    &:last-of-type {\r\n        border-bottom: none;\r\n        margin-bottom: 0;\r\n    }\r\n    margin-bottom: 30px;\r\n`;\r\n\r\nexport const AnswersGroup = styled.div`\r\n    padding: 0;\r\n`;\r\n\r\nexport const AnswerActions = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nexport const AnswerInput = styled(Input)`\r\n    border: 0;\r\n    border-bottom: 1px solid rgb(0 0 0 / 20%);\r\n`;\r\n\r\nexport const AnswerFormField = styled(FormField)`\r\n    margin: 0;\r\n    width: 100%;\r\n    padding: 0;\r\n`;\r\n\r\nexport const AddAnswerButton = styled(Button)`\r\n    margin-top: 0;\r\n    margin-bottom: 23px;\r\n`\r\n","import { useState } from \"react\";\r\nimport CorrectAnswer from \"../CorrectAnswer\";\r\nimport { ReactComponent as TrashIcon } from '../../assets/trash-can.svg';\r\nimport Label from \"../Label\";\r\nimport Button from \"../Button\";\r\nimport { AnswerActions, AnswerInputContainer, AnswersGroup, AnswerInput, AnswerFormField, AddAnswerButton } from \"./style\";\r\nimport { isEmpty } from \"../../helpers\";\r\n\r\nexport default function AddQuizFormAnswers({ input, setValues, errors: [errors, correctAnswer] }) {\r\n    let [answers, setAnswers] = useState([1]);\r\n\r\n    const removeAnswer = (id, index) => () => {\r\n        setValues(prevValues => {\r\n            const { answers, correctAnswer } = prevValues;\r\n            \r\n            return {\r\n                ...prevValues,\r\n                answers: answers.filter((_, i) => i !== index),\r\n                correctAnswer: correctAnswer.filter((_, i) => i !== index),\r\n            };\r\n        });\r\n\r\n        setAnswers((prevAnswers) => {\r\n            return prevAnswers.filter(answer => answer !== id)\r\n        });\r\n    }\r\n\r\n    const addAnswer = () => setAnswers(prevState => {\r\n        setValues(\r\n            prevValues => (\r\n                {\r\n                    ...prevValues, \r\n                    answers: [...prevValues.answers, \"\"],\r\n                    correctAnswer: [...prevValues.correctAnswer, false],\r\n                }\r\n            )\r\n        );\r\n        return [...prevState, (prevState[prevState.length - 1] || 0) + 1]\r\n    });\r\n\r\n    const renderAnswer = (id, index) => (\r\n        <AnswerInputContainer key={id * index}>\r\n            <AnswerFormField \r\n                key={id + index} \r\n                errors={errors[index]}\r\n                margin=\"0\"\r\n\r\n            >\r\n                <AnswerInput\r\n                    {...input(`answers[${index}]`)}\r\n                    type=\"text\" \r\n                    id={id}\r\n                    border=\"\"\r\n                    aria-invalid={!isEmpty(errors[index])}\r\n                />\r\n                <Label htmlFor={id}>Odpowiedź</Label>\r\n            </AnswerFormField>\r\n            <AnswerActions>\r\n                <CorrectAnswer \r\n                    id={id} \r\n                    errors={correctAnswer[index]} \r\n                    input={input} \r\n                    name={`correctAnswer[${index}]`}\r\n                />\r\n                <Button \r\n                    type=\"button\"\r\n                    onClick={removeAnswer(id, index)} \r\n                    disabled={answers.length <= 1}\r\n                    srOnly=\"Usuń\"\r\n                >\r\n                    <TrashIcon />\r\n                </Button>\r\n            </AnswerActions>\r\n        </AnswerInputContainer>\r\n    );\r\n\r\n    return (\r\n        <AnswersGroup>\r\n            { answers.map(renderAnswer) }\r\n            <AddAnswerButton type=\"button\" full onClick={addAnswer}>\r\n              Dodaj odpowiedź\r\n            </AddAnswerButton>\r\n        </AnswersGroup>\r\n    );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const QuestionContainer = styled.div`\r\n    border: 1px solid rgb(0 0 0 / 20%);\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 8px;\r\n`","import { useContext, useState } from \"react\";\r\nimport { useMutation } from \"react-query\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createQuiz } from \"../../api\";\r\nimport { UserContext } from \"../../context/User\";\r\nimport { hasErrors, isEmpty } from \"../../helpers\";\r\nimport { validateSchema } from \"../../Validator/index\";\r\nimport AddQuizFormAnswers from \"../AddQuizFormAnswers\";\r\nimport Button from \"../Button\";\r\nimport EasyForm from \"../EasyForm\";\r\nimport Form from \"../Form\";\r\nimport FormField from \"../FormField\";\r\nimport Input from \"../Input\";\r\nimport Label from \"../Label\";\r\nimport Quiz from \"../Quiz\";\r\nimport { QuestionContainer } from \"./style\";\r\n\r\nconst schema = validateSchema.create()\r\n  .add(['title', 'question', 'answers', 'correctAnswer', 'tags'], {\r\n    required: true,\r\n  })\r\n  .add(['correctAnswer'], {\r\n    one: true\r\n  })\r\n  .add(['question', 'title', 'answers'], {\r\n    maxLength: 80,\r\n    minLength: 3,\r\n  });\r\n\r\nexport default function AddQuizForm() {\r\n  const { auth, setAuth } = useContext(UserContext);\r\n\r\n  const [quiz, setQuiz] = useState({\r\n    name: '',\r\n    categories: [''],\r\n    questions: [],\r\n  });\r\n  const { mutateAsync, isLoading, data = {} } = useMutation(createQuiz);\r\n  const initialValues = {\r\n    title: \"\",\r\n    tags: \"\",\r\n    question: \"\",\r\n    answers: [\"\"],\r\n    correctAnswer: [true]\r\n  };\r\n\r\n  function saveQuizData({ categories, name }) {\r\n      setQuiz({ ...quiz, name, categories });\r\n  }\r\n\r\n  function saveQuestion({ question }, setValues) {\r\n    return () => {\r\n      const questions = [...quiz.questions, question];\r\n      setValues(prevValues => {\r\n        const { answers } = prevValues;\r\n        return { \r\n          ...prevValues, \r\n          question: \"\", \r\n          answers: answers.map(() => \"\"),\r\n          correctAnswer: answers.map(() => [true]),\r\n        };\r\n      });\r\n      \r\n      setQuiz({ ...quiz, questions });\r\n    }\r\n  }\r\n\r\n  async function saveQuiz({ setValues, values }) {\r\n    const { statusCode } = await mutateAsync(quiz);\r\n    if (statusCode === 401) setAuth(false);\r\n    if (statusCode === 201) {\r\n      setQuiz({\r\n        name: '',\r\n        categories: [''],\r\n        questions: [],\r\n      });\r\n      setValues(initialValues);\r\n    }\r\n  }\r\n\r\n  function mapFormValues({ answers, correctAnswer, tags, question, title }) {\r\n    const mappedAnswers = answers.map((answer, index) => ({\r\n      answer,\r\n      correctAnswer: correctAnswer[index],\r\n    }));\r\n\r\n    return {\r\n      name: title,\r\n      categories: tags.split(\"|\").filter(Boolean),\r\n      question: {\r\n        answers: mappedAnswers,\r\n        question,\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <EasyForm\r\n      schema={schema}\r\n      initialValues={initialValues}\r\n      mapValues={mapFormValues}\r\n      onSubmit={saveQuiz}\r\n      render={({ \r\n        onSubmit,\r\n        input,\r\n        setValues,\r\n        mappedValues,\r\n        errors: { title, tags, question, answers, correctAnswer },\r\n      }) => \r\n        <Form\r\n          onSubmit={onSubmit}\r\n          isSuccess={data.statusCode === 201}\r\n          errorMessage={data.error || data.message}\r\n          successMessage={<div>Pomyślne dodałeś <a href={`quiz/${data.id}/${data.name}`}>quiz</a></div>}\r\n        >\r\n          { !auth && <p>Musisz się zalogować żeby móc dodać quiz! <Link to='/profil'>Zaloguj się</Link></p> }\r\n          <FormField errors={title}>\r\n            <Input \r\n              {...input('title', saveQuizData)}\r\n              type=\"text\"\r\n            />\r\n            <Label htmlFor=\"title\">Podaj tytuł</Label>\r\n          </FormField>\r\n          <FormField errors={tags}>\r\n            <Input \r\n              {...input('tags', saveQuizData)}\r\n              type=\"text\" \r\n            />\r\n            <Label htmlFor=\"tags\">Podaj tagi odzielonne za pomocą |</Label>\r\n          </FormField>\r\n          <QuestionContainer>\r\n            <FormField errors={question}>\r\n              <Input {...input('question')} type=\"text\" />\r\n              <Label htmlFor=\"question\">Pytanie</Label>\r\n            </FormField>\r\n            <AddQuizFormAnswers \r\n              questionId={0}\r\n              errors={[answers, correctAnswer]} \r\n              input={input}\r\n              setValues={setValues}\r\n            />\r\n          </QuestionContainer>\r\n          <Button\r\n            type=\"button\"\r\n            full\r\n            onClick={saveQuestion(mappedValues, setValues)}\r\n            disabled={hasErrors(question, answers, correctAnswer)}\r\n          >Zapisz pytanie</Button>\r\n          <Button \r\n            type=\"submit\"\r\n            full \r\n            isLoading={isLoading} \r\n            disabled={isEmpty(quiz.questions) || hasErrors(tags, title) || !auth}>\r\n            Zapisz quiz\r\n          </Button>\r\n        </Form>\r\n      }\r\n    />\r\n    <Quiz\r\n      tags={quiz.categories.map(category => ({ category }))}\r\n      name={quiz.name}\r\n      questions={quiz.questions}\r\n      setQuiz={setQuiz}\r\n      dummy={true}\r\n    />\r\n    </>\r\n  );\r\n}\r\n","import AddQuizForm from \"../components/AddQuizForm\";\r\n\r\nexport default function AddQuiz() {\r\n    return (\r\n        <AddQuizForm />\r\n    );\r\n}\r\n","import { useContext, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport Loader from \"../components/Loader\";\r\nimport { UserContext } from \"../context/User\";\r\nimport { logout } from \"../helpers\";\r\n\r\nexport function Logout() {\r\n    const { setAuth, auth } = useContext(UserContext);\r\n    \r\n    useEffect(() => {\r\n      logout(setAuth)\r\n    }, [])\r\n\r\n    return auth ? <Loader /> : <Redirect to=\"/\" />;\r\n}","import { Route, BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\r\nimport Footer from \"./components/Footer\";\r\nimport Navigation from \"./components/Navigation\";\r\nimport QuizPage from \"./pages/QuizPage\";\r\nimport Home from \"./pages/Home\";\r\nimport Profile from \"./pages/Profile\";\r\nimport AddQuiz from \"./pages/AddQuiz\";\r\nimport { UserContext } from \"./context/User\";\r\nimport { useAuth } from \"./hooks\";\r\nimport { Logout } from \"./pages/Logout\";\r\n\r\nfunction UserContextProvider({ children }) {\r\n  const { user, auth, setUser, setAuth } = useAuth(localStorage.getItem('auth') === 'true');\r\n  return (\r\n    <UserContext.Provider value={{ user, auth, setUser, setAuth }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <Router basename='/Quiz-App'>\r\n      <UserContextProvider>\r\n        <Navigation />\r\n        <main>\r\n        <Switch>\r\n          <Route path=\"/quiz/:quizId/:quizName\">\r\n            <QuizPage />\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/profil\">\r\n            <Profile />\r\n          </Route>\r\n          <Route path=\"/dodaj-quiz\">\r\n            <AddQuiz />\r\n          </Route>\r\n          <Route path=\"/wyloguj\">\r\n            <Logout />\r\n          </Route>\r\n          <Route>404</Route>\r\n        </Switch> \r\n        </main>         \r\n        <Footer />\r\n        </UserContextProvider>\r\n    </Router>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { useEffect, useState } from \"react\";\r\nimport { isAuth } from \"./helpers\";\r\n\r\nexport const useAuth = (initialValue = false) => {\r\n    const [user, setUser] = useState({});\r\n    const [auth, setAuth] = useState(initialValue);\r\n\r\n    const userAuth = async () => {\r\n      const isUserAuth = await isAuth();\r\n      localStorage.setItem('auth', isUserAuth);\r\n      setAuth((prevAuth) => {\r\n        if (prevAuth !== isUserAuth) {\r\n          return !prevAuth;\r\n        }\r\n\r\n        return prevAuth;\r\n      });\r\n    }\r\n\r\n    useEffect(() => {\r\n      userAuth();\r\n      setInterval(async () => {\r\n        await userAuth();\r\n      }, 10000);\r\n    }, []);\r\n  \r\n    return { user, setUser, auth, setAuth };\r\n}\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n    *, *::after, *::before {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    *:focus {\r\n        box-shadow: 0 0 0 2px #000;\r\n        outline: none;\r\n    }\r\n\r\n    body {\r\n        font-family: 'Open Sans', sans-serif;\r\n    }\r\n\r\n    #root {\r\n        position: relative;\r\n        min-height: 100vh;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { StyleSheetManager } from 'styled-components';\r\nimport { Normalize } from 'styled-normalize';\r\nimport App from './App';\r\nimport { GlobalStyle } from './styles';\r\n\r\nconst queryClient = new QueryClient({ staleTime: 1000 * 60 });\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Normalize />\r\n    <GlobalStyle />\r\n    <QueryClientProvider client={queryClient}>\r\n      <StyleSheetManager disableVendorPrefixes={true}>\r\n        <App />\r\n      </StyleSheetManager>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}