(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{58:function(e,t,n){"use strict";n.r(t);var r,a,i=n(1),c=n.n(i),s=n(38),o=n.n(s),u=n(60),d=n(31),l=n(6),j=n(39),p=n(13),b=n(11),f=n(7),h=l.default.footer(r||(r=Object(f.a)(["\n    background: #222;\n    color: #ddd;\n    padding: 10px;\n    line-height: 1.5;\n    margin-top: 25px;\n"]))),O=l.default.span(a||(a=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),x=n(0);function m(){return Object(x.jsxs)(h,{children:[Object(x.jsx)(O,{children:"Copyright Quiz App 2021"}),Object(x.jsx)(O,{children:"Autor: Kacper Karpie\u0144"})]})}var v,g,w,y=n(4),k=n.n(y),z=n(9),q=n(8),A="true"===localStorage.getItem("auth"),S=Object(i.createContext)({user:{},auth:A,setAuth:function(){},setUser:function(){}}),C=n(14),V=n(3),L="https://idontknow-backend.herokuapp.com/api",E={credentials:"include",headers:{"Content-Type":"application/json"}};function M(e){return{body:"string"===typeof e?e:JSON.stringify(e),method:"post"}}function I(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(z.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(V.a)(Object(V.a)({},E),M(n)),e.abrupt("return",_("".concat(L,"/").concat(t),r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return N.apply(this,arguments)}function N(){return(N=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("".concat(L,"/").concat(t),E));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return U.apply(this,arguments)}function U(){return(U=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("".concat(L,"/").concat(t),Object(V.a)(Object(V.a)({},E),{},{method:"delete"})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return T.apply(this,arguments)}function T(){return(T=Object(z.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(z.a)(k.a.mark((function e(t){var n,r,a,i,c=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:F,r=c.length>2?c[2]:void 0,e.next=4,n(t,r);case 4:if(401!==(a=e.sent).statusCode){e.next=14;break}return e.next=8,H();case 8:if(401!==(i=e.sent).statusCode){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,n(t,r);case 13:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return B.apply(this,arguments)}function B(){return(B=Object(z.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(t,I,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return K.apply(this,arguments)}function K(){return(K=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return Y.apply(this,arguments)}function Y(){return(Y=Object(z.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("quizzes"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return G.apply(this,arguments)}function G(){return(G=Object(z.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,r=Object(q.a)(n,2),r[0],a=r[1],e.abrupt("return",F("quizzes/".concat(a)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return X.apply(this,arguments)}function X(){return(X=Object(z.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("auth/refresh");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D("quizzes",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("users",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I("users/auth",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return se.apply(this,arguments)}function se(){return(se=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("quizzes/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return e.replace(/\[(\d*)\]/g,":array.$1").split(".").map((function(e){return e.split(":")}))}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=oe(e),a=t||{};return r.forEach((function(e,t){var i=Object(q.a)(e,1)[0];t===r.length-1&&("function"===typeof n?n(a[i],a,i):a[i]=n),a=a[i]})),t}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=oe(e);return r.reduce((function(e,t){var r=Object(q.a)(t,1)[0];return"undefined"===typeof e[r]?n:e[r]}),t||{})}function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!!t.flat(1/0).length}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.length}function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onExpire,a=Object(C.a)(n,["onExpire"]);r&&setTimeout(r,1e3*(a["max-age"]+10));var i=Object.entries(a).map((function(e){var t=Object(q.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r,";")})).join(" ");document.cookie="".concat(e,"=").concat(JSON.stringify(t),"; ").concat(i)}function be(e){var t=new RegExp("(?<=".concat(e,"=)(.*)(?=;|)"),"g"),n=document.cookie.match(t)||[],r=Object(q.a)(n,1)[0];if(r)return JSON.parse(r)}function fe(e){var t=document.baseURI.split("/"),n=Object(q.a)(t,2),r=(n[0],n[1]);return document.cookie="".concat(e,"=; Max-Age=-1; path=/").concat(r,";"),!!be(e)}function he(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(z.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be("user")){e.next=8;break}return e.next=4,H();case 4:return r=e.sent,(a=401!==r.statusCode)&&(pe("user",r,{"max-age":1200,path:"/"}),t(r)),e.abrupt("return",a);case 8:return t(n),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return me.apply(this,arguments)}function me(){return(me=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("auth/logout");case 2:fe("user"),localStorage.setItem("auth",!1),t(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve,ge,we=Object(l.keyframes)(v||(v=Object(f.a)(["\n    from {\n        transform: rotate(0deg);\n    }\n\n    to {\n        transform: rotate(359deg);\n    }\n"]))),ye=l.default.div(g||(g=Object(f.a)(["\n    padding: 0 10px;\n    z-index: 9;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    left: ",";\n    top: 50%;\n    transform: ",";\n"])),(function(e){return"right"===e.position?"100%":"50%"}),(function(e){return"right"===e.position?"translateY(-50%)":"translate(-50%, -50%)"})),ke=l.default.svg(w||(w=Object(f.a)(["\n    ","\n    \n    @media screen and (min-width: 546px) {\n        right: -40px;\n    }\n\n    animation: "," 0.9s linear infinite;\n"])),(function(e){var t=e.scale,n=void 0===t?1:t;return"\n        width: ".concat(38*n,"px;\n        height: ").concat(38*n,"px;\n    ")}),we);function ze(e){var t=e.scale,n=e.position;return Object(x.jsx)(ye,{position:n,children:Object(x.jsxs)(ke,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",scale:t,children:[Object(x.jsx)("path",{"data-name":"layer2",d:"M32 62a30 30 0 0 0 26.6-16.2C50 42 49.2 50.6 46 50s-4.2-3.3-6-.4-4.7 3-7.9 2.4-3.4.7-6.3 2-7.1-1.2-5.8-6-4.7-5.1-6-2-2.2 5.6-4 5.9h-.4A29.9 29.9 0 0 0 32 62z",fill:"#de9d63"}),Object(x.jsx)("path",{"data-name":"layer1",d:"M32 2A30 30 0 0 0 9.6 52h.4c1.9-.3 2.8-2.8 4-5.9s7.2-2.6 6 2 2.9 7.3 5.8 6 3.1-2.6 6.3-2 6.1.5 7.9-2.4 2.8-.2 6 .4 4-8 12.6-4.2A30 30 0 0 0 32 2zm0 40a10 10 0 1 1 10-10 10 10 0 0 1-10 10z",fill:"#f5a4c4"}),Object(x.jsx)("path",{"data-name":"opacity",d:"M20 36a10 10 0 0 0 19.7 2.4 10 10 0 0 1-17.4-8.8A10 10 0 0 0 20 36zM32 2A30 30 0 0 0 4.2 20.6a30 30 0 0 1 54.2 25.1h.3A30 30 0 0 0 32 2z",fill:"#fff",opacity:".25"}),Object(x.jsx)("circle",{"data-name":"stroke",cx:"32",cy:"32",r:"30",fill:"none",stroke:"#2f446a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),Object(x.jsx)("circle",{"data-name":"stroke",cx:"32",cy:"32",r:"10",fill:"none",stroke:"#2f446a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),Object(x.jsx)("path",{"data-name":"stroke",d:"M10 51.9c1.9-.3 2.8-2.8 4-5.9s7.2-2.6 6 2 2.9 7.3 5.8 6 3.1-2.6 6.3-2 6.1.5 7.9-2.4 2.8-.2 6 .4 4-8 12.6-4.2M18 14l4 4m-8 8l-4 4m2 8h4m10-28h8m10 4l-4 4m10 6l4 2m-4 8v4",fill:"none",stroke:"#2f446a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})})}var qe=l.default.ul(ve||(ve=Object(f.a)(["\n    display: flex;\n    list-style: none;\n    justify-content: space-between;\n    padding: 0;\n    margin: 20px 30px;\n    flex-direction: column;\n"]))),Ae=Object(l.default)(p.b)(ge||(ge=Object(f.a)(["\n    text-decoration: none;\n    color: #222;\n    font-weight: 600;\n    position: relative;\n    padding: 10px 0;\n    display: inline-block;\n"]))),Se=function(e){var t=e.setAuth,n=Object(i.useState)(!1),r=Object(q.a)(n,2),a=r[0],c=r[1];return Object(x.jsx)("li",{children:Object(x.jsxs)(Ae,{style:{position:"relative"},to:"/wyloguj",onClick:function(){var e=Object(z.a)(k.a.mark((function e(n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c(!0),e.next=4,xe(t);case 4:c(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[a&&Object(x.jsx)(ze,{scale:.5,position:"right"})," Wyloguj"]})})};function Ce(){var e=Object(i.useContext)(S),t=e.setAuth,n=e.auth;return Object(x.jsx)("nav",{children:Object(x.jsxs)(qe,{children:[Object(x.jsx)("li",{children:Object(x.jsx)(Ae,{to:"/",children:"Strona g\u0142\xf3wna"})}),Object(x.jsx)("li",{children:Object(x.jsx)(Ae,{to:"/profil",children:"Tw\xf3j profil"})}),Object(x.jsx)("li",{children:Object(x.jsx)(Ae,{to:"/dodaj-quiz",children:"Dodaj quiz"})}),n&&Object(x.jsx)(Se,{setAuth:t})]})})}var Ve,Le=n(61),Ee=n(30),Me=n(43),Ie=n(15),Qe=n(44),Fe=n(45),Ne=new(function(){function e(t){Object(Qe.a)(this,e),this.errors=t}return Object(Fe.a)(e,[{key:"messages",value:function(e){this.errors=Object(V.a)(Object(V.a)({},this.errors),e)}},{key:"validateOnce",value:function(e,t){var n=this,r=[];return Object.entries(e).forEach((function(e){var a=Object(q.a)(e,2),i=a[0],c=a[1];if("one"!==i){var s;if(!n[i].apply(n,[t].concat(Object(Ie.a)(c))))r.push((s=n.errors)[i].apply(s,Object(Ie.a)(c)));n.isValid=!r.length,(null===n.isAllValid||n.isAllValid)&&(n.isAllValid=n.isValid)}})),r}},{key:"validate",value:function(e,t){var n=this;this.isAllValid=null;var r={};return Object.entries(t).forEach((function(t){var a=Object(q.a)(t,2),i=a[0],c=a[1];!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n,a=oe(e);a.forEach((function(e,n){var i=Object(q.a)(e,2),c=i[0],s=i[1];n<a.length-1&&(r[c]||(r[c]=s?[]:{}),r=r[c]),n===a.length-1&&(r[c]=t)}))}(i,[],r);var s=de(i,e),o=(c.required||[])[0],u=(c.one||[])[0];if(o||s)if(n.isValid=!0,Array.isArray(s)){if(!s.length)return ue(i,r,(function(e){return e.push(n.validateOnce(c))}));var d,l=Object(Me.a)(s);try{var j=function(){var e=d.value;if(ue(i,r,(function(t){return t.push(n.validateOnce(c,e))})),n.isValid&&u)return ue(i,r,[]),"break"};for(l.s();!(d=l.n()).done;){if("break"===j())break}}catch(p){l.e(p)}finally{l.f()}}else ue(i,r,(function(e){return e.push.apply(e,Object(Ie.a)(n.validateOnce(c,s)))}))})),[r,this.isAllValid]}},{key:"__extend",value:function(e,t){var n=Object(q.a)(t,2),r=n[0],a=n[1];this.errors[e]=a,this[e]=r}},{key:"required",value:function(e){return!!e}},{key:"minLength",value:function(e,t){return e.length>=t}},{key:"maxLength",value:function(e,t){return e.length<=t}},{key:"isEmail",value:function(e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+))*$/.test(e)}}]),e}())({required:function(){return"To pole jest wymagane!"},minLength:function(e){return"To pole musi mie\u0107 conajmniej ".concat(e," znak\xf3w!")},maxLength:function(e){return"To pole mo\u017ce mie\u0107 maksymalnie ".concat(e," znak\xf3w!")},isEmail:function(){return"To pole musi by\u0107 poprawnym adresem email"}}),Pe={create:function(){return{schema:{},validator:Ne,create:this.create,add:function(e,t){var n=this;return e.forEach((function(e){n.schema[e]||(n.schema[e]={}),Object.entries(t).map((function(t){var r=Object(q.a)(t,2),a=r[0],i=r[1];void 0===i&&(i=[]),Array.isArray(i)||(i=[i]),n.schema[e][a]=i}))})),this}}}};function Ue(e){var t=e.render,n=void 0===t?function(){}:t,r=e.initialValues,a=void 0===r?{}:r,c=e.schema,s=(c=void 0===c?{}:c).schema,o=c.validator,u=e.onSubmit,d=void 0===u?function(){}:u,l=e.mapValues,j=void 0===l?function(e){return e}:l,p=Object(i.useState)(a),b=Object(q.a)(p,2),f=b[0],h=b[1],O=function(e,t,n,r){var a=Object(i.useState)(r.validate(t,n)),c=Object(q.a)(a,2),s=Object(q.a)(c[0],2),o=s[0],u=s[1],d=c[1];return Object(i.useEffect)((function(){d(r.validate(e,n))}),[e]),{errors:o,isValid:u}}(f,a,s,o),x=O.isValid,m=O.errors;function v(){return(v=Object(z.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d({ev:t,errors:m,isValid:x,originalValues:f,values:j(f),setValues:h});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n({setValues:h,values:f,initialValues:a,mappedValues:j(f),input:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=de(e,f,""),r=de(e,f,!1),a=function(e){var n=e.target,r=n.type,a=n.value,i=n.checked,c=n.name,s="radio"===r||"checkbox"===r?i:a;h((function(n){var r=Object(V.a)({},n);return ue(c,r,s),t(j(r),e),r}))},i={name:e,onChange:function(e){a(e)},value:n,checked:r,id:e,isNotEmpty:""!==n};return i},onSubmit:function(e){return v.apply(this,arguments)},errors:m,isValid:x,mapValues:j})}function _e(e){var t=e.tag,n=e.last;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.b,{to:"/tag/".concat(t),children:t}),!n&&", "]})}var Te,Re,Ze=l.default.div(Ve||(Ve=Object(f.a)(["\n    width: 95%;\n    max-width: 400px;\n    margin: 5px 0;\n"])));function De(e){var t=e.tags;return Object(x.jsxs)(Ze,{children:["Tagi: ",t.map((function(e,n){var r=e.category;return Object(x.jsx)(_e,{tag:r,last:n===t.length-1})}))]})}var Be,Je,Ke=l.default.span(Te||(Te=Object(f.a)(["\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip-path: polygon(0, 0, 0);\n    border: 0;\n"]))),We=l.default.button(Re||(Re=Object(f.a)(["\n    border: 1px solid rgba(0, 0, 0, .2);\n    padding: ",";\n    cursor: ",";\n    display: flex;\n    margin: ",";\n    background: #fff;\n    transition: background 0.3s;\n    font-weight: 600;    \n    justify-content: center;\n    border-radius: 0;\n    align-items: center;\n    position: relative;\n\n    & svg {\n        transition: fill 0.3s;\n    }\n\n    width: ",";\n\n    @media screen and (min-width: 546px) {\n        width: ",";\n    }\n\n    &:not([disabled]):hover {\n        background: ",";\n        color: #fff;\n        & svg {\n            fill: #eee;\n        }\n    }\n"])),(function(e){return e.hasIcon?"6px 8px":"10px 18px"}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.full?"10px auto":"16px 8px auto 2px"}),(function(e){return e.hasIcon?"auto":"100%"}),(function(e){return e.full?"100%":"auto"}),(function(e){return e.full?"#52d250":"#a54545"}));function Ye(e){var t=e.children,n=e.srOnly,r=e.isLoading,a=e.disabled,i=Object(C.a)(e,["children","srOnly","isLoading","disabled"]);return Object(x.jsxs)(We,Object(V.a)(Object(V.a)({hasIcon:!!n,disabled:r||a},i),{},{children:[!!n&&Object(x.jsx)(Ke,{children:n}),r?Object(x.jsxs)(x.Fragment,{children:[t,Object(x.jsx)(ze,{scale:.6})]}):t]}))}var $e=l.default.form(Be||(Be=Object(f.a)(["\n    width: 95%;\n    max-width: 400px;\n    margin: 0 auto;\n"]))),Ge=l.default.div(Je||(Je=Object(f.a)(["\n    color: ",";\n    margin-top: 50px;\n"])),(function(e){return e.isSuccess?"#52d250":"red"})),He={userExists:"Taki u\u017cytkownik ju\u017c istnieje!",Unauthorized:"Musisz si\u0119 zalogowa\u0107!",wrongCredentials:"Email lub has\u0142o jest nieprawid\u0142owe"};function Xe(e){var t=e.children,n=e.onSubmit,r=e.errorMessage,a=e.successMessage,i=e.isSuccess,c=Object(C.a)(e,["children","onSubmit","errorMessage","successMessage","isSuccess"]),s=i?a:He[r];return!s&&r&&(s="Co\u015b posz\u0142o nie tak, spr\xf3buj ponownie p\xf3\u017aniej!"),Object(x.jsxs)($e,Object(V.a)(Object(V.a)({onSubmit:n},c),{},{children:[Object(x.jsx)(Ge,{role:"alert",isSuccess:i,children:s}),t]}))}var et,tt,nt,rt,at=n.p+"static/media/check-mark.491c7c33.svg",it=l.default.span(et||(et=Object(f.a)(["\n    border: 1px solid;\n    width: 24px;\n    display: flex;\n    height: 24px;\n    position: relative;\n    align-items: center;\n    justify-content: center;\n    margin-left: 10px;\n    overflow: hidden;\n\n    &::after {\n        content: '';\n        background: url(",");\n        display: block;\n        background-size: contain;\n        position: absolute;\n        bottom: -18px;\n        width: 18px;\n        height: 18px;\n    }\n"])),at);function ct(e){e.type;return Object(x.jsx)(it,{})}var st,ot,ut,dt=l.default.div(tt||(tt=Object(f.a)(["\n    display: flex;\n    margin: 15px 0;\n    flex-direction: column;\n    width: 100%;\n    padding: 8px 0;\n    ",";\n"])),(function(e){return!0===e.isCorrectAnswer&&"background: green"})),lt=l.default.div(nt||(nt=Object(f.a)(["\n    position: relative;\n"]))),jt=l.default.div(rt||(rt=Object(f.a)(["\n    color: red;\n    font-size: 0.75em;\n    padding: ",";\n    display: flex;\n    flex-direction: column;\n"])),(function(e){return e.padding&&"8px"}));function pt(e){var t=e.children,n=e.errors,r=void 0===n?[]:n,a=e.isCorrectAnswer,i=Object(C.a)(e,["children","errors","isCorrectAnswer"]);return Object(x.jsxs)(dt,Object(V.a)(Object(V.a)({},i),{},{isCorrectAnswer:a,children:[Object(x.jsx)(lt,{children:t}),Object(x.jsx)(jt,{role:"alert",padding:!!r.length,children:r.map((function(e){return Object(x.jsx)("span",{children:e},e)}))})]}))}var bt,ft=Object(l.css)(st||(st=Object(f.a)(["\n    box-shadow: none;\n    position: absolute;\n    left: -9999px;\n\n    & + label {\n        color: #222;\n        display: flex;\n        align-items: center;\n        text-transform: uppercase;\n        font-size: .725em;\n        padding-left: 8px;\n        position: static;\n        padding: 5px;\n    }\n\n    & + label span::after {\n        transition: transform .3s;\n    }\n\n    &:checked + label span::after {\n        transform: translateY(calc(-100% - 2px));\n    }\n"]))),ht=Object(l.css)(ot||(ot=Object(f.a)(["\n    transform: translateY(-65%);\n    top: 1px;\n    transition: transform .3s;\n    font-size: .875em;\n"]))),Ot=l.default.input(ut||(ut=Object(f.a)(["\n    border: ",';\n    padding: 10px 8px;\n    width: 100%;\n    line-height: 1.8;\n    border-radius: 0;\n    \n    & + label {\n        transition: transform .3s;\n    }\n\n    &:not([type="checkbox"]):focus + label {\n        ','\n    }\n    \n    &:not([type="checkbox"]):not(:focus) + label {\n        ','\n    }\n\n    &[type="checkbox"]:focus + label span {\n        box-shadow: 0 0 0 2px;\n    }\n    \n    ',"\n"])),(function(e){return e.border||"1px solid rgb(0 0 0 / 20%)"}),ht,(function(e){return e.isNotEmpty&&ht}),(function(e){var t=e.type;return("checkbox"===t||"radio"===t)&&ft}));function xt(e){var t=e.type,n=e.name,r=e.id,a=Object(C.a)(e,["type","name","id"]);return Object(x.jsx)(Ot,Object(V.a)({type:t,name:n,id:r},a))}var mt,vt=l.default.label(bt||(bt=Object(f.a)(["\n    position: ",";\n    top: 50%;\n    transform: ",";\n    left: 8px;\n    color: ",";\n    display: flex;\n    cursor: ",";\n    background-color: #fff;\n    padding: 0 4px;\n    /* &:checked {\n        color: ",";\n        background-color: ",";\n        padding: "," 4px;\n    } */\n"])),(function(e){var t=e.position;return void 0===t?"absolute":t}),(function(e){return"static"!==e.position&&"translateY(-50%)"}),(function(e){var t=e.color;return void 0===t?"#a09797":t}),(function(e){return"static"===e.position?"pointer":"text"}),(function(e){return void 0!==e.isCorrectAnswer&&"#fff"}),(function(e){var t=e.isCorrectAnswer;return t?"green":!1===t&&"red"}),(function(e){return void 0!==e.isCorrectAnswer&&"5px"}));function gt(e){var t=e.htmlFor,n=e.children,r=Object(C.a)(e,["htmlFor","children"]);return Object(x.jsx)(vt,Object(V.a)(Object(V.a)({htmlFor:t},r),{},{children:n}))}function wt(e){var t=e.questionId,n=e.formState,r=n.errors,a=n.input,i=e.result,c=e.correctAnswers,s=e.answer,o=s.answer,u=s.id,d=e.index,l=void 0===i?i:!!c.find((function(e){return e===u}));return Object(x.jsxs)(pt,{errors:r[t][d],children:[Object(x.jsx)(xt,Object(V.a)(Object(V.a)({type:"checkbox"},a("answers[".concat(t,"][").concat(d,"]"))),{},{disabled:void 0!==i,id:"answer_".concat(t,"_").concat(d),"data-answer-id":u})),Object(x.jsxs)(gt,{htmlFor:"answer_".concat(t,"_").concat(d),position:"static",isCorrectAnswer:l,color:void 0!==i&&"#fff",children:[d+1,". ",o,Object(x.jsx)(ct,{})]})]})}function yt(e){var t=e.answers,n=e.questionId,r=e.formState,a=e.checkAnswersResult,i=void 0===a?[void 0,[]]:a,c=Object(q.a)(i,2),s=c[0],o=c[1];return t.map((function(e,t){return Object(x.jsx)(wt,{correctAnswers:o,formState:r,result:s,index:t,answer:e,questionId:n},n+"-"+t)}))}var kt=l.default.div(mt||(mt=Object(f.a)(["\n    ","\n"])),(function(e){var t=e.isCorrectQuestion;return void 0!==t&&"\n        background: ".concat(t?"#52d250":"rgb(255 60 60)",";\n        padding: 8px;\n        margin: 12px 0;\n        color: #fff;\n    ")}));function zt(e){var t=e.question,n=e.id,r=e.setQuiz,a=e.questionAnswers,i=e.index,c=e.formState,s=e.dummy,o=e.data;return Object(x.jsxs)(kt,{isCorrectQuestion:o[0],children:[Object(x.jsxs)("p",{children:[i+1,". ",t]}),Object(x.jsx)(yt,{answers:a,questionId:i,formState:c,checkAnswersResult:o,id:n}),s&&Object(x.jsx)(Ye,{onClick:function(){r((function(e){var t=Object(Ie.a)(e.questions);return t.splice(i,1),Object(V.a)(Object(V.a)({},e),{},{questions:t})}))},type:"button",children:"Usu\u0144 pytanie"})]})}function qt(e){var t=e.questions,n=void 0===t?[]:t,r=e.setQuiz,a=e.formState,i=e.dummy,c=e.data;return n.map((function(e,t){var n=e.question,s=e.answers,o=e.id;return Object(x.jsx)(zt,{index:t,question:n,questionAnswers:s,formState:a,setQuiz:r,dummy:i,data:c[o]||[],id:o},n+t)}))}function At(e){var t=e.onSubmit,n=e.questions,r=e.dummy,a=void 0!==r&&r,c=e.setQuiz,s=e.formState,o=e.data,u=e.isLoading;return Object(i.useEffect)((function(){var e=n[n.length-1];a&&e&&s.setValues((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{answers:[]},n=t.answers;return{answers:[].concat(Object(Ie.a)(n),[e.answers.map((function(){return!1}))])}}))}),[n]),void 0===s.errors?null:s.errors.length===n.length&&Object(x.jsxs)(Xe,{onSubmit:t,children:[Object(x.jsx)(qt,{data:o,dummy:a,questions:n,setQuiz:c,formState:s}),!a&&Object(x.jsx)(Ye,{type:"submit",isLoading:u,disabled:le(s.errors),children:"Sprawd\u017a odpowiedzi"})]})}var St,Ct,Vt,Lt,Et,Mt=n(62),It=l.default.h1(St||(St=Object(f.a)(["\n    width: 95%;\n    margin: 0;\n    max-width: 400px;\n    margin: 15px auto 0 auto;\n    font-size: 1.5em;\n    font-weight: 600;\n"]))),Qt=l.default.div(Ct||(Ct=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),Ft=Pe.create().add(["userName"],{required:!0});function Nt(e){var t=e.id,n=e.name,r=e.questions,a=e.tags,c=e.dummy,s=void 0!==c&&c,o=e.setQuiz,u=Object(i.useContext)(S),d=u.auth,l=u.user,j=Pe.create(),p=r.reduce(function(e){return function(t,n,r){var a=n.answers;return function(e,t){t.add(["answers[".concat(e,"]")],{required:!0,one:!0})}(r,e),t.answers.push(Array(a.length).fill(!1)),t}}(j),{answers:[]}),b=Object(i.useState)(),f=Object(q.a)(b,2),h=f[0],O=f[1],m=Object(i.useState)(l.name),v=Object(q.a)(m,2),g=v[0],w=v[1],y=Object(Mt.a)("checkAnswers",(function(e){var n=e.answers,r=e.userName;return D("quizzes/"+t+"/answers",{userName:r,answers:n})})),A=y.mutateAsync,L=y.data,E=void 0===L?{}:L,M=y.isLoading;function I(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(z.a)(k.a.mark((function e(t,n){var r,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({answers:t,userName:n});case 2:r=e.sent,r.statusCode,a=Object(C.a)(r,["statusCode"]),i=Object.values(a).reduce((function(e,t){return Object(q.a)(t,1)[0]?++e:e}),0),O(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(z.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.ev,a=t.values.answers,n.preventDefault(),I(r.reduce((function(e,t,n){var r=t.id,i=t.answers;return Object(V.a)(Object(V.a)({},e),{},Object(Ee.a)({},r,a[n].map((function(e,t){return e&&i[t].id})).filter(Boolean)))}),{}),g);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return d||g?Object(x.jsxs)(Qt,{children:[Object(x.jsx)(It,{children:n}),Object(x.jsx)(De,{tags:a}),Object(x.jsx)(Ue,{schema:j,onSubmit:function(e){return F.apply(this,arguments)},initialValues:p,render:function(e){var t=e.onSubmit,n=e.errors.answers,a=e.input,i=e.setValues,c=e.values;return Object(x.jsx)(At,{dummy:s,onSubmit:t,formState:{errors:n,input:a,setValues:i,values:c},questions:r,setQuiz:o,data:E,isLoading:M})}}),void 0!==h&&Object(x.jsxs)("p",{children:["Tw\xf3j wynik to ",h,"/",r.length]})]}):Object(x.jsx)(Ue,{initialValues:{userName:""},schema:Ft,render:function(e){var t=e.input,n=e.values.userName;return Object(x.jsxs)(Xe,{children:[Object(x.jsx)(pt,{children:Object(x.jsx)(xt,Object(V.a)({id:"user_name"},t("userName")))}),Object(x.jsx)(Ye,{type:"button",onClick:function(e){return w(n)},children:"Rozpocznij quiz!"})]})}})}function Pt(){var e=Object(b.h)().quizId,t=Object(Le.a)(["quiz",e],$),n=t.data,r=t.isLoading,a=n||{},i=a.name,c=a.questions,s=void 0===c?[]:c,o=a.id,u=a.categories,d=void 0===u?[]:u;return 404===n.statusCode?Object(x.jsx)(b.a,{to:"/"}):r?Object(x.jsx)(ze,{}):Object(x.jsx)(Nt,{id:o,name:i,questions:s,tags:d})}var Ut,_t=l.default.div(Vt||(Vt=Object(f.a)(["\n    display: flex;\n    align-items: flex-start;\n    width: 95%;\n    margin: 0 auto;\n    background: #fff;\n    color: #222;\n    border-radius: 2px;\n    padding: 10px 0 10px 8px;\n    box-shadow: 0 0 3px 1px rgba(0, 0, 0, .2);\n    max-width: 60ch;\n    flex-direction: column;\n    font-size: 0.85em;\n"]))),Tt=l.default.p(Lt||(Lt=Object(f.a)(["\n    display: flex;\n    margin: 0 0 10px 0;\n"]))),Rt=Object(l.default)(Ae)(Et||(Et=Object(f.a)(["\n    display: flex;\n    padding: 8px;\n    background-color: #222;\n    color: #fff;\n"])));function Zt(e){var t=e.message,n=e.to,r=e.link;return Object(x.jsxs)(_t,{children:[Object(x.jsx)(Tt,{children:t}),Object(x.jsx)(Rt,{to:n,children:r})]})}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jt(e,t){var n=e.title,r=e.titleId,a=Bt(e,["title","titleId"]);return i.createElement("svg",Dt({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,Ut||(Ut=i.createElement("path",{d:"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"})))}var Kt,Wt,Yt,$t,Gt,Ht=i.forwardRef(Jt),Xt=(n.p,l.default.div(Kt||(Kt=Object(f.a)(["\n    max-width: 60ch;\n    padding: 20px 10px;\n    margin: 0 auto;\n    width: 100%;\n    position: relative;\n"])))),en=Object(l.default)(p.b)(Wt||(Wt=Object(f.a)(["\n    text-decoration: none;\n    color: #611f5c;\n    font-weight: 600;\n"]))),tn=Object(l.default)(p.b)(Yt||(Yt=Object(f.a)(["\n    text-decoration: none;\n    color: #e6d584;\n    text-transform: uppercase;\n    padding: 10px;\n    background: #000000;\n    margin-bottom: 4px;\n    display: inline-block;\n    font-weight: 700;\n    min-width: 100px;\n    margin-right: 6px;\n    position: relative;\n    width: calc(100% - 45px);\n\n    &::before {\n        content: '';\n        position: absolute;\n        border: 2px solid #611f5c;\n        width: 100%;\n        height: 100%;\n        transform: translate(5px, 5px);\n        left: 0;\n        top: 0;\n        z-index: -1;\n        transition: transform .3s, background-color .3s;\n    }\n\n    &:hover::before {\n        transform: translate(-5px, -5px);\n        background-color: #611f5c;\n    }\n"]))),nn=l.default.div($t||($t=Object(f.a)(["\n    display: flex;\n    align-items: center;\n    box-shadow: 0 0 0 1px rgb(0 0 0 / 20%);\n    margin-top: 10px;\n    padding: 8px;\n    justify-content: space-between;\n\n    & button {\n        margin: 0 0 0 15px;\n    }\n"]))),rn=l.default.span(Gt||(Gt=Object(f.a)(["\n    display: flex;\n    background: #000000;\n    width: 30px;\n    height: 30px;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    top: 20px;\n    color: #e6d584;\n    right: 10px;\n"])));function an(e){var t=e.name,n=e.tags,r=void 0===n?[]:n,a=e.id,i=e.user,c=e.getUserQuizzes,s=e.numOfQuestions,o=e.removeQuiz,u=e.isLoading;return e.removedId===a?null:Object(x.jsxs)(Xt,{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(tn,{to:"/quiz/".concat(a,"/").concat(t),children:t}),Object(x.jsx)(rn,{children:s})]}),Object(x.jsxs)(nn,{children:[Object(x.jsx)(De,{tags:r}),Object(x.jsx)(en,{to:"/uzytkownicy/".concat(i.name),children:i.name}),o&&Object(x.jsx)(Ye,{type:"button",onClick:Object(z.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(a);case 2:c();case 3:case"end":return e.stop()}}),e)}))),srOnly:"Usu\u0144",isLoading:u,children:Object(x.jsx)(Ht,{})})]})]})}function cn(){var e=Object(Le.a)("quizzes",W),t=e.data,n=void 0===t?[]:t;if(e.isLoading)return Object(x.jsx)(ze,{});return je(n)?Object(x.jsx)(Zt,{to:"/dodaj-quiz",link:"Dodaj quiz",message:"Nie ma jeszcze \u017cadnych quiz\xf3w :("}):n.map((function(e){var t=e.id,n=e.user,r=e.name,a=e.categories,i=e.questions;return Object(x.jsx)(an,{id:t,user:n,numOfQuestions:i.length,name:r,tags:a},t)}))}var sn,on,un,dn,ln,jn,pn=Pe.create().add(["email","password"],{required:!0}).add(["password"],{minLength:10}).add(["email"],{isEmail:!0});function bn(e){var t=e.title,n=e.apiFunction,r=void 0===n?function(){}:n,a=e.successMessage,i=e.afterRequest,c=void 0===i?function(){}:i,s=Math.floor(999*Math.random()),o=Object(Mt.a)("auth"+s,r,{onSuccess:c}),u=o.mutate,d=o.isLoading,l=o.data,j=void 0===l?{}:l;return Object(x.jsx)(Ue,{schema:pn,onSubmit:function(){var e=Object(z.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.values,u(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),initialValues:{email:"",password:""},render:function(e){var n=e.input,r=e.onSubmit,i=e.errors,c=i.email,o=i.password;return Object(x.jsxs)(Xe,{onSubmit:r,errorMessage:j.error,successMessage:a,isSuccess:200===j.statusCode||201===j.statusCode,children:[Object(x.jsx)("h2",{children:t}),Object(x.jsxs)(pt,{errors:c,children:[Object(x.jsx)(xt,Object(V.a)(Object(V.a)({},n("email")),{},{type:"email",id:"email-".concat(s),disabled:d})),Object(x.jsx)(gt,{htmlFor:"email-".concat(s),children:"Email"})]}),Object(x.jsxs)(pt,{errors:o,children:[Object(x.jsx)(xt,Object(V.a)(Object(V.a)({type:"text"},n("password")),{},{id:"password-".concat(s),disabled:d})),Object(x.jsx)(gt,{htmlFor:"password-".concat(s),children:"Password"})]}),Object(x.jsx)(Ye,{type:"submit",isLoading:d,children:t})]})}})}function fn(){var e=Object(i.useContext)(S),t=e.setUser,n=e.auth,r=e.setAuth,a=Object(Le.a)("getUserQuizzes",Object(z.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J("users/quizzes"));case 1:case"end":return e.stop()}}),e)})))),c=a.data,s=void 0===c?[]:c,o=a.isLoading,u=a.refetch,d=Object(Mt.a)("removeQuiz",ce),l=d.mutateAsync,j=d.isLoading,f=d.data,h=void 0===f?{}:f,O=Object(b.g)();if(!n)return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(bn,{title:"Zarejestruj si\u0119",successMessage:"Pomy\u015blnie stworzy\u0142e\u015b konto!",apiFunction:ne}),Object(x.jsx)(bn,{title:"Zaloguj si\u0119",successMessage:"Pomy\u015blnie si\u0119 zalogowa\u0142e\u015b!",apiFunction:ae,afterRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,a=e.id;t({name:n,id:a}),pe("user",{name:n,id:a},{"max-age":1200,path:"/"}),r(!0),localStorage.setItem("auth",!0),O.goBack()}})]});var m=Array.isArray(s)?s:[];return je(m=m.filter((function(e){var t=e.id;return h.id!==t})))?Object(x.jsx)(Zt,{to:"/dodaj-quiz",link:"Dodaj quiz",message:"Nie masz jeszcze \u017cadnych quiz\xf3w :("}):o?Object(x.jsx)(ze,{}):m.map((function(e){var t=e.id,n=e.user,r=e.name,a=e.categories,i=e.questions;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(an,{id:t,tags:a,user:n,name:r,numOfQuestions:i.length,removeQuiz:l,removedId:h.id,isLoading:j,getUserQuizzes:u},t),Object(x.jsx)(p.b,{style:{display:"block",textAlign:"center"},to:"/results/".concat(t),children:"Zobacz rozwi\u0105zania twojego quizu przez innych u\u017cytkownik\xf3w"})]})}))}function hn(e){var t=e.id,n=e.errors,r=e.input,a=e.name;return Object(x.jsxs)(pt,{errors:n,children:[Object(x.jsx)(xt,Object(V.a)(Object(V.a)({},r(a)),{},{type:"checkbox",id:"correct_answer_".concat(t)})),Object(x.jsxs)(gt,{htmlFor:"correct_answer_".concat(t),position:"static",children:["Poprawna odpowied\u017a",Object(x.jsx)(ct,{})]})]})}var On,xn=l.default.div(sn||(sn=Object(f.a)(["\n    position: relative;\n    padding: 0;\n    border: 1px solid rgb(0 0 0 / 20%);\n    &:last-of-type {\n        border-bottom: none;\n        margin-bottom: 0;\n    }\n    margin-bottom: 30px;\n"]))),mn=l.default.div(on||(on=Object(f.a)(["\n    padding: 0;\n"]))),vn=l.default.div(un||(un=Object(f.a)(["\n    display: flex;\n    align-items: center;\n"]))),gn=Object(l.default)(xt)(dn||(dn=Object(f.a)(["\n    border: 0;\n    border-bottom: 1px solid rgb(0 0 0 / 20%);\n"]))),wn=Object(l.default)(pt)(ln||(ln=Object(f.a)(["\n    margin: 0;\n    width: 100%;\n    padding: 0;\n"]))),yn=Object(l.default)(Ye)(jn||(jn=Object(f.a)(["\n    margin-top: 0;\n    margin-bottom: 23px;\n"])));function kn(e){var t=e.input,n=e.setValues,r=Object(q.a)(e.errors,2),a=r[0],c=r[1],s=Object(i.useState)([1]),o=Object(q.a)(s,2),u=o[0],d=o[1],l=function(e,t){return function(){n((function(e){var n=e.answers,r=e.correctAnswer;return Object(V.a)(Object(V.a)({},e),{},{answers:n.filter((function(e,n){return n!==t})),correctAnswer:r.filter((function(e,n){return n!==t}))})})),d((function(t){return t.filter((function(t){return t!==e}))}))}};return Object(x.jsxs)(mn,{children:[u.map((function(e,n){return Object(x.jsxs)(xn,{children:[Object(x.jsxs)(wn,{errors:a[n],margin:"0",children:[Object(x.jsx)(gn,Object(V.a)(Object(V.a)({},t("answers[".concat(n,"]"))),{},{type:"text",id:e,border:"","aria-invalid":!je(a[n])})),Object(x.jsx)(gt,{htmlFor:e,children:"Odpowied\u017a"})]},e+n),Object(x.jsxs)(vn,{children:[Object(x.jsx)(hn,{id:e,errors:c[n],input:t,name:"correctAnswer[".concat(n,"]")}),Object(x.jsx)(Ye,{type:"button",onClick:l(e,n),disabled:u.length<=1,srOnly:"Usu\u0144",children:Object(x.jsx)(Ht,{})})]})]},e*n)})),Object(x.jsx)(yn,{type:"button",full:!0,onClick:function(){return d((function(e){return n((function(e){return Object(V.a)(Object(V.a)({},e),{},{answers:[].concat(Object(Ie.a)(e.answers),[""]),correctAnswer:[].concat(Object(Ie.a)(e.correctAnswer),[!1])})})),[].concat(Object(Ie.a)(e),[(e[e.length-1]||0)+1])}))},children:"Dodaj odpowied\u017a"})]})}var zn=l.default.div(On||(On=Object(f.a)(["\n    border: 1px solid rgb(0 0 0 / 20%);\n    display: flex;\n    flex-direction: column;\n    padding: 8px;\n"]))),qn=Pe.create().add(["title","question","answers","correctAnswer","tags"],{required:!0}).add(["correctAnswer"],{one:!0}).add(["question","title","answers"],{maxLength:80,minLength:3});function An(){var e=Object(i.useContext)(S),t=e.auth,n=e.setAuth,r=Object(i.useState)({name:"",categories:[""],questions:[]}),a=Object(q.a)(r,2),c=a[0],s=a[1],o=Object(Mt.a)(ee),u=o.mutateAsync,d=o.isLoading,l=o.data,j=void 0===l?{}:l,b={title:"",tags:"",question:"",answers:[""],correctAnswer:[!0]};function f(e){var t=e.categories,n=e.name;s(Object(V.a)(Object(V.a)({},c),{},{name:n,categories:t}))}function h(e,t){var n=e.question;return function(){var e=[].concat(Object(Ie.a)(c.questions),[n]);t((function(e){var t=e.answers;return Object(V.a)(Object(V.a)({},e),{},{question:"",answers:t.map((function(){return""})),correctAnswer:t.map((function(){return[!0]}))})})),s(Object(V.a)(Object(V.a)({},c),{},{questions:e}))}}function O(){return(O=Object(z.a)(k.a.mark((function e(t){var r,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setValues,t.values,e.next=3,u(c);case 3:a=e.sent,401===(i=a.statusCode)&&n(!1),201===i&&(s({name:"",categories:[""],questions:[]}),r(b));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ue,{schema:qn,initialValues:b,mapValues:function(e){var t=e.answers,n=e.correctAnswer,r=e.tags,a=e.question,i=e.title,c=t.map((function(e,t){return{answer:e,correctAnswer:Number(n[t])}}));return{name:i,categories:r.split("|").filter(Boolean),question:{answers:c,question:a}}},onSubmit:function(e){return O.apply(this,arguments)},render:function(e){var n=e.onSubmit,r=e.input,a=e.setValues,i=e.mappedValues,s=e.errors,o=s.title,u=s.tags,l=s.question,b=s.answers,O=s.correctAnswer;return Object(x.jsxs)(Xe,{onSubmit:n,isSuccess:201===j.statusCode,errorMessage:j.error||j.message,successMessage:Object(x.jsxs)("div",{children:["Pomy\u015blne doda\u0142e\u015b ",Object(x.jsx)(p.b,{to:"quiz/".concat(j.id,"/").concat(j.name),children:"quiz"})]}),children:[!t&&Object(x.jsxs)("p",{children:["Musisz si\u0119 zalogowa\u0107 \u017ceby m\xf3c doda\u0107 quiz! ",Object(x.jsx)(p.b,{to:"/profil",children:"Zaloguj si\u0119"})]}),Object(x.jsxs)(pt,{errors:o,children:[Object(x.jsx)(xt,Object(V.a)(Object(V.a)({},r("title",f)),{},{type:"text"})),Object(x.jsx)(gt,{htmlFor:"title",children:"Podaj tytu\u0142"})]}),Object(x.jsxs)(pt,{errors:u,children:[Object(x.jsx)(xt,Object(V.a)(Object(V.a)({},r("tags",f)),{},{type:"text"})),Object(x.jsx)(gt,{htmlFor:"tags",children:"Podaj tagi odzielonne za pomoc\u0105 |"})]}),Object(x.jsxs)(zn,{children:[Object(x.jsxs)(pt,{errors:l,children:[Object(x.jsx)(xt,Object(V.a)(Object(V.a)({},r("question")),{},{type:"text"})),Object(x.jsx)(gt,{htmlFor:"question",children:"Pytanie"})]}),Object(x.jsx)(kn,{questionId:0,errors:[b,O],input:r,setValues:a})]}),Object(x.jsx)(Ye,{type:"button",full:!0,onClick:h(i,a),disabled:le(l,b,O),children:"Zapisz pytanie"}),Object(x.jsx)(Ye,{type:"submit",full:!0,isLoading:d,disabled:je(c.questions)||le(u,o)||!t,children:"Zapisz quiz"})]})}}),Object(x.jsx)(Nt,{tags:c.categories.map((function(e){return{category:e}})),name:c.name,questions:c.questions,setQuiz:s,dummy:!0})]})}function Sn(){return Object(x.jsx)(An,{})}function Cn(){var e=Object(i.useContext)(S),t=e.setAuth,n=e.auth;return Object(i.useEffect)((function(){xe(t)}),[]),n?Object(x.jsx)(ze,{}):Object(x.jsx)(b.a,{to:"/"})}function Vn(){var e=Object(b.h)().id,t=Object(Le.a)(["getResults",e],(function(e){var t=Object(q.a)(e.queryKey,2),n=(t[0],t[1]);return J("quizzes/".concat(n,"/results"))})),n=(t.isLoading,t.data),r=void 0===n?[]:n;return 404===r.statusCode?Object(x.jsx)(b.a,{to:"/"}):r.map((function(e){var t=e.userName,n=e.points;return Object(x.jsxs)("div",{style:{padding:"30px"},children:[Object(x.jsxs)("span",{children:[t,": "]}),Object(x.jsx)("span",{children:n})]})}))}function Ln(e){var t=e.children,n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(i.useState)({}),n=Object(q.a)(t,2),r=n[0],a=n[1],c=Object(i.useState)(e),s=Object(q.a)(c,2),o=s[0],u=s[1],d=function(){var e=Object(z.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(a);case 2:t=e.sent,localStorage.setItem("auth",t),t||a({}),u((function(e){return e!==t?!e:e}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){d(),setInterval(Object(z.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)}))),5e3)}),[]),{user:r,setUser:a,auth:o,setAuth:u}}("true"===localStorage.getItem("auth")),r=n.user,a=n.auth,c=n.setUser,s=n.setAuth;return Object(x.jsx)(S.Provider,{value:{user:r,auth:a,setUser:c,setAuth:s},children:t})}var En,Mn=function(){return Object(x.jsx)(p.a,{basename:"/Quiz-App",children:Object(x.jsxs)(Ln,{children:[Object(x.jsx)(Ce,{}),Object(x.jsx)("main",{children:Object(x.jsxs)(b.d,{children:[Object(x.jsx)(b.b,{path:"/quiz/:quizId/:quizName",children:Object(x.jsx)(Pt,{})}),Object(x.jsx)(b.b,{exact:!0,path:"/",children:Object(x.jsx)(cn,{})}),Object(x.jsx)(b.b,{path:"/profil",children:Object(x.jsx)(fn,{})}),Object(x.jsx)(b.b,{path:"/dodaj-quiz",children:Object(x.jsx)(Sn,{})}),Object(x.jsx)(b.b,{path:"/wyloguj",children:Object(x.jsx)(Cn,{})}),Object(x.jsx)(b.b,{path:"/results/:id",children:Object(x.jsx)(Vn,{})}),Object(x.jsx)(b.b,{children:"404"})]})}),Object(x.jsx)(m,{})]})})},In=Object(l.createGlobalStyle)(En||(En=Object(f.a)(["\n    *, *::after, *::before {\n        box-sizing: border-box;\n    }\n\n    *:focus {\n        box-shadow: 0 0 0 2px #000;\n        outline: none;\n    }\n\n    body {\n        font-family: 'Open Sans', sans-serif;\n    }\n\n    #root {\n        position: relative;\n        min-height: 100vh;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n    }\n"]))),Qn=new u.a({staleTime:6e4});o.a.render(Object(x.jsxs)(c.a.StrictMode,{children:[Object(x.jsx)(j.Normalize,{}),Object(x.jsx)(In,{}),Object(x.jsx)(d.a,{client:Qn,children:Object(x.jsx)(l.StyleSheetManager,{disableVendorPrefixes:!0,children:Object(x.jsx)(Mn,{})})})]}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.d3f12751.chunk.js.map